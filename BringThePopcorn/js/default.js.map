{"version":3,"sources":["default.ts"],"names":["BtPo","BtPo.Templates","BtPo.appInit","BtPo.mapKodiApi","BtPo.ListHelpers","BtPo.ListHelpers.renderMenu"],"mappings":"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","file":"BringThePopcorn/js/default.js","sourcesContent":["//app insight \r\n//https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md\r\n//https://azure.microsoft.com/fr-fr/documentation/articles/app-insights-javascript/\r\n\r\ndeclare module WinJSContrib.UI {\r\n    var FOWrapper: any;\r\n    var enableSystemBackButton: boolean;\r\n    var enableSystemBackButtonVisibility: boolean;\r\n}\r\n\r\ninterface JQuery {\r\n    pressEnterDefaultTo: any;\r\n}\r\n\r\ndeclare var dynamics: any;\r\n\r\nmodule BtPo {\r\n    export var debug = true;\r\n}\r\n\r\nWinJSContrib.DataContainer.WinRTFilesContainer.makeCurrent();\r\n\r\nif (BtPo.debug) {\r\n    WinJSContrib.UI.Pages.verboseTraces = true;\r\n    WinJSContrib.Logs.configure(\"WinJSContrib.UI.Pages\", { level: WinJSContrib.Logs.Levels.debug, appenders: [\"DefaultConsole\"] });\r\n    WinJSContrib.Logs.configure(\"KDP.API\", { level: WinJSContrib.Logs.Levels.info, appenders: [\"DefaultConsole\"] });\r\n    WinJSContrib.Logs.configure(\"KDP.API.Websocket\", { level: WinJSContrib.Logs.Levels.debug, appenders: [\"DefaultConsole\"] });\r\n}\r\n\r\nmodule BtPo.Templates {\r\n    export var search = new WinJS.Binding.Template(null, { href: \"/templates/searchitem.html\", extractChild: true });\r\n    export var album = new WinJS.Binding.Template(null, { href: \"/templates/album.html\", extractChild: true });\r\n    export var song = new WinJS.Binding.Template(null, { href: \"/templates/song.html\", extractChild: true });\r\n    export var movieposter = new WinJS.Binding.Template(null, { href: \"/templates/movieposter.html\", extractChild: true });\r\n    export var tvshowposter = new WinJS.Binding.Template(null, { href: \"/templates/tvshowposter.html\", extractChild: true });\r\n}\r\n\r\nmodule BtPo {\r\n    var app = WinJS.Application;\r\n    var activation = Windows.ApplicationModel.Activation;\r\n\r\n    \r\n    WinJSContrib.UI.enableSystemBackButton = false;\r\n    WinJSContrib.UI.enableSystemBackButtonVisibility = true;\r\n    WinJSContrib.UI.defaultTapBehavior.awaitAnim = true;\r\n    WinJSContrib.UI.defaultTapBehavior.animDown = function (elt) {\r\n        var w = elt.clientWidth;\r\n        var h = elt.clientHeight;\r\n\r\n        var target = { scaleX: (w - 10) / w, scaleY: (h + 10)/h };\r\n\r\n        //if (elt.clientWidth < 70 && elt.clientHeight < 70)\r\n        //    target = { scaleX: 0.8, scaleY: 1.2 };\r\n        //else if (elt.clientWidth < 100 && elt.clientHeight < 100)\r\n        //    target = { scaleX: 0.9, scaleY: 1.1 };\r\n\r\n        //    return $.Velocity(elt, target, { duration: 90 });\r\n\r\n        return new WinJS.Promise(function (complete, error) {\r\n            dynamics.animate(elt, target, {\r\n                type: dynamics.spring,\r\n                duration: 160,\r\n                frequency: 1,\r\n                friction: 166,\r\n                complete: complete\r\n            });\r\n        });\r\n\r\n        //return WinJS.UI.executeTransition(elt, {\r\n        //    property: \"transform\",\r\n        //    delay: 0,\r\n        //    duration: 167,\r\n        //    timing: \"cubic-bezier(0.1, 0.9, 0.2, 1)\",\r\n        //    to: \"scale(0.7, 1.2)\"\r\n        //});\r\n    }\r\n\r\n    WinJSContrib.UI.defaultTapBehavior.animUp = function (elt) {\r\n        var p = new WinJS.Promise(function (complete, error) {\r\n            dynamics.animate(elt, {\r\n                scaleX: 1,\r\n                scaleY: 1\r\n            }, {\r\n                type: dynamics.spring,\r\n                frequency: 300,\r\n                duration: 700,\r\n                friction : 105,\r\n                anticipationSize: 216,\r\n                anticipationStrength: 572,\r\n                complete: complete\r\n            })\r\n        });\r\n        return WinJS.Promise.timeout(50);\r\n\r\n        //return WinJS.UI.executeTransition(elt, {\r\n        //    property: \"transform\",\r\n        //    delay: 0,\r\n        //    duration: 300,\r\n        //    timing: WinJSContrib.UI.Animation.Easings.easeOutBack, //\"cubic-bezier(.39,.66,.5,1)\", \r\n        //    to: \"scale(1, 1)\"\r\n        //});\r\n\r\n        //$.Velocity(elt, { scaleX: 1, scaleY: 1 }, { duration: 800, easing: [600, 25] });\r\n        //return WinJS.Promise.timeout(50);\r\n    }\r\n\r\n    WinJSContrib.UI.Pages.defaultFragmentMixins.push({\r\n        navdeactivate: function () {\r\n            if (this.foWrapper) {\r\n                this.foWrapper.element.style.opacity = '0.2';\r\n                this.foWrapper.blurTo(20, 160);\r\n                return WinJS.Promise.timeout(50);\r\n            } else {\r\n                console.error(\"fowrapper not present\");\r\n            }\r\n            if (this.pageNavDeactivate) {\r\n                this.pageNavDeactivate();\r\n            }\r\n        },\r\n\r\n        navactivate: function () {\r\n            if (this.foWrapper) {\r\n                this.foWrapper.element.style.opacity = '';\r\n                this.foWrapper.blurTo(0, 160);\r\n                //return WinJS.Promise.timeout(3000);\r\n            } else {\r\n                console.error(\"fowrapper not present\");\r\n            }\r\n            if (this.pageNavActivate) {\r\n                this.pageNavActivate();\r\n            }\r\n        }\r\n    });\r\n\r\n    function appInit(args) {\r\n        WinJSContrib.Logs.getLogger(\"WinJSContrib.DataContainer.WinRT\", { level: WinJSContrib.Logs.Levels.verbose, appenders: [\"DefaultConsole\"] });\r\n        var pageshost = document.getElementById(\"pageshost\");\r\n\r\n        pageshost.winControl.fragmentInjector = function (pagecontrol) {\r\n            var parent = pagecontrol.element.parentElement;\r\n            var wrapper = new WinJSContrib.UI.FOWrapper();\r\n            var _unload = pagecontrol.unload;\r\n            var _updateLayout = pagecontrol.updateLayout;\r\n            var proxy = document.createElement(\"DIV\");\r\n            proxy.className = \"pagecontrolproxy pagecontrol\";\r\n            proxy.winControl = pagecontrol;\r\n            proxy.winControl.unload = function () {\r\n                $(proxy).remove();\r\n                if (_unload) {\r\n                    _unload.apply(this);\r\n                }\r\n            }\r\n            proxy.winControl.updateLayout = function () {\r\n                wrapper.updateLayout();\r\n                if (_updateLayout) {\r\n                    _updateLayout.apply(this);\r\n                }\r\n            }\r\n            proxy.appendChild(wrapper.element);\r\n            parent.appendChild(proxy);\r\n            wrapper.content.appendChild(pagecontrol.element);\r\n            pagecontrol.foWrapper = wrapper;\r\n        }\r\n\r\n        var settingName = Kodi.Settings.defaultConnection();\r\n        if (settingName) {\r\n            var currentSetting = Kodi.Settings.getSetting(settingName);\r\n            if (currentSetting && currentSetting.host) {\r\n                return Kodi.API.testServerSetting(currentSetting).then(function (p) {\r\n                    Kodi.API.currentSettings = currentSetting;\r\n                    return BtPo.UI.DataLoader.showLoader(false, args);\r\n                }, function (err) {\r\n                    return WinJS.Navigation.navigate(\"/pages/startup/startup.html\");\r\n                });\r\n            }\r\n        }\r\n\r\n        return WinJS.Navigation.navigate(\"/pages/bootstrap/bootstrap.html\");\r\n    }\r\n\r\n    app.onactivated = function (args : any) {\r\n        if (args.detail.kind === activation.ActivationKind.launch) {\r\n            if (args.detail.previousExecutionState !== activation.ApplicationExecutionState.terminated) {\r\n                // TODO: This application has been newly launched. Initialize your application here.\r\n            } else {\r\n                // TODO: This application was suspended and then terminated.\r\n                // To create a smooth user experience, restore application state here so that it looks like the app never stopped running.\r\n            }\r\n            args.setPromise(WinJS.UI.processAll().then(function () {\r\n                return appInit(args);\r\n            }));\r\n        }\r\n    };\r\n\r\n    app.oncheckpoint = function (args) {\r\n        // TODO: This application is about to be suspended. Save any state that needs to persist across suspensions here.\r\n        // You might use the WinJS.Application.sessionState object, which is automatically saved and restored across suspension.\r\n        // If you need to complete an asynchronous operation before your application is suspended, call args.setPromise().\r\n    };\r\n\r\n    app.start();\r\n\r\n    export function mapKodiApi(element: HTMLElement) {\r\n        var items = element.querySelectorAll(\"*[kodiapi]\");\r\n        var processItem = function (item: HTMLElement) {\r\n            var api = item.getAttribute(\"kodiapi\");\r\n            if (api) {\r\n                var fn = WinJSContrib.Utils.resolveValue(item, \"global:\" + api);\r\n                if (fn && typeof fn === \"function\") {\r\n                    WinJSContrib.UI.tap(item, function (arg) {\r\n                        return fn();\r\n                    }, { /*tapOnDown : true*/ });\r\n                }\r\n            }\r\n        }\r\n\r\n        for (var i = 0, l = items.length; i < l; i++) {\r\n            processItem(<HTMLElement>items[i]);            \r\n        }\r\n    }\r\n}\r\n\r\nmodule BtPo.ListHelpers {\r\n    interface IGroupDefinition{\r\n        name: string;\r\n        groupKind: any;\r\n        groupField: string;\r\n    }\r\n\r\n    interface IViewDefinition {\r\n        name: string;\r\n        template: WinJS.Binding.Template;\r\n    }\r\n\r\n    export function renderMenu(args: { views: any, groups: any, root: HTMLElement, viewsContainer: HTMLElement, groupsContainer: HTMLElement, dsManager: any, defaultView : string, defaultGroup : string, setting: any, saveSetting: any }) {\r\n        var setView = (viewname ?: string) => {\r\n            viewname = viewname || args.defaultView;\r\n\r\n            for (var v in args.views) {\r\n                args.root.classList.remove(\"view-\" + v);\r\n            }\r\n\r\n            var view = args.views[viewname] || args.views[args.defaultView];\r\n            args.root.classList.add(\"view-\" + viewname);\r\n            $('.item[view].selected', args.viewsContainer).removeClass(\"selected\");\r\n            $('.item[view=\"' + viewname + '\"]', args.viewsContainer).addClass(\"selected\");\r\n            args.dsManager.listview.itemTemplate = view.template.element;\r\n            args.setting.view = viewname;\r\n            args.saveSetting();\r\n        }\r\n\r\n        var setGroup = (groupname ?:string) => {\r\n            groupname = groupname || args.defaultGroup;\r\n            for (var v in args.groups) {\r\n                args.root.classList.remove(\"group-\" + v);\r\n            }\r\n            var view = args.groups[groupname] || args.groups[\"none\"];\r\n            if (view.groupKind) {\r\n                args.dsManager.dataManager.field = view.groupField;\r\n                args.dsManager.dataManager.groupKind = view.groupKind;\r\n            } else {\r\n                args.dsManager.dataManager.groupKind = null;\r\n                args.dsManager.dataManager.field = null;\r\n            }\r\n            $('.item[grouping].selected', args.groupsContainer).removeClass(\"selected\");\r\n            $('.item[grouping=\"' + groupname + '\"]', args.groupsContainer).addClass(\"selected\");\r\n            args.root.classList.add(\"group-\" + groupname);\r\n            args.setting.group = groupname;\r\n            args.saveSetting();\r\n        }\r\n\r\n       var renderMenuGroupItem = (name, group) => {\r\n            let e = document.createElement(\"DIV\");\r\n            e.className = \"item group\";\r\n            e.innerHTML = group.name;\r\n            e.setAttribute(\"grouping\", name);\r\n            args.groupsContainer.appendChild(e);\r\n            WinJSContrib.UI.tap(e, () => {\r\n                setGroup(name);\r\n                args.dsManager.dataManager.refresh();\r\n            });\r\n        }\r\n\r\n        var renderMenuViewItem = (name, group) => {\r\n            let e = document.createElement(\"DIV\");\r\n            e.className = \"item view\";\r\n            e.innerHTML = group.name;\r\n            e.setAttribute(\"view\", name);\r\n            args.viewsContainer.appendChild(e);\r\n            WinJSContrib.UI.tap(e, () => {\r\n                setView(name);\r\n                args.dsManager.dataManager.refresh();\r\n            });\r\n        }\r\n\r\n        var renderMenu = () => {\r\n            var groups = 0;\r\n            for (var name in args.groups) {\r\n                groups++;\r\n                var g = args.groups[name];\r\n                renderMenuGroupItem(name, g);\r\n            }\r\n            if (groups < 2) {\r\n                args.groupsContainer.style.display = \"none\";\r\n            }\r\n\r\n            var views = 0;\r\n            for (var name in args.views) {\r\n                views++;\r\n                var g = args.views[name];\r\n                renderMenuViewItem(name, g);\r\n            }\r\n            if (views < 2) {\r\n                args.viewsContainer.style.display = \"none\";\r\n            }\r\n        }\r\n\r\n        renderMenu();\r\n        setView(args.setting.view);\r\n        setGroup(args.setting.group);\r\n\r\n        $(args.root).on(\"click\", \".win-groupheadercontainer\", () => {\r\n            args.dsManager.semanticZoom.zoomedOut = true;\r\n        });\r\n    }\r\n}"],"sourceRoot":" "}