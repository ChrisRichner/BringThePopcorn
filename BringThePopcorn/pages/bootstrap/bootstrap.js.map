{"version":3,"sources":["bootstrap.ts"],"names":["BtPo","BtPo.UI","BtPo.UI.Pages","BtPo.UI.Pages.BootstrapPage","BtPo.UI.Pages.BootstrapPage.constructor","BtPo.UI.Pages.BootstrapPage.init","BtPo.UI.Pages.BootstrapPage.processed","BtPo.UI.Pages.BootstrapPage.testConnection"],"mappings":"AAIA,IAAO,IAAI,CAmCV;AAnCD,WAAO,IAAI;IAACA,IAAAA,EAAEA,CAmCbA;IAnCWA,WAAAA,EAAEA;QAACC,IAAAA,KAAKA,CAmCnBA;QAnCcA,WAAAA,KAAKA,EAAAA,CAACA;YACjBC;gBAAAC;gBA+BAC,CAACA;gBAzBGD,4BAAIA,GAAJA;oBACIE,QAAQA,CAACA,IAAIA,CAACA,SAASA,CAACA,GAAGA,CAACA,aAAaA,CAACA,CAACA;gBAC/CA,CAACA;gBAEDF,iCAASA,GAATA,UAAUA,OAAOA,EAAEA,OAAOA;oBACtBG,IAAIA,IAAIA,GAAGA,IAAIA,CAACA;oBAChBA,IAAIA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,iBAAiBA,EAAEA,CAACA;oBAErDA,IAAIA,CAACA,YAAYA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,UAAUA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;gBAC3EA,CAACA;gBAEDH,sCAAcA,GAAdA;oBACII,IAAIA,IAAIA,GAAGA,IAAIA,CAACA;oBAChBA,IAAIA,CAACA,QAAQA,CAACA,SAASA,GAAGA,EAAEA,CAACA;oBAC7BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,YAAYA,CAACA,QAAQA,EAAEA,CAACA,CAACA,CAACA;wBAC/BA,IAAIA,OAAOA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,OAAOA,CAACA;wBACxCA,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,iBAAiBA,CAACA,OAAOA,CAACA,CAACA,IAAIA,CAACA;4BAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;4BACpD,IAAI,CAAC,GAAG,CAAC,eAAe,GAAG,OAAO,CAAC;4BACnC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;wBAC/C,CAAC,EAAEA;4BACC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,sKAAsK,CAAC;wBACrM,CAAC,CAACA,CAACA;oBACPA,CAACA;gBACLA,CAACA;gBA7BaJ,iBAAGA,GAAGA,iCAAiCA,CAACA;gBA8B1DA,oBAACA;YAADA,CA/BAD,AA+BCC,IAAAD;YA/BYA,mBAAaA,gBA+BzBA,CAAAA;YAEDA,KAAKA,CAACA,EAAEA,CAACA,KAAKA,CAACA,MAAMA,CAACA,aAAaA,CAACA,GAAGA,EAAEA,aAAaA,CAACA,CAACA;QAC5DA,CAACA,EAnCcD,KAAKA,GAALA,QAAKA,KAALA,QAAKA,QAmCnBA;IAADA,CAACA,EAnCWD,EAAEA,GAAFA,OAAEA,KAAFA,OAAEA,QAmCbA;AAADA,CAACA,EAnCM,IAAI,KAAJ,IAAI,QAmCV","file":"BringThePopcorn/pages/bootstrap/bootstrap.js","sourcesContent":["declare module BtPo.UI {\r\n    var DataLoader: any;\r\n}\r\n\r\nmodule BtPo.UI.Pages{\r\n    export class BootstrapPage {\r\n        public static url = \"/pages/bootstrap/bootstrap.html\";\r\n        defaultname: string;\r\n        messages: HTMLElement;\r\n        settingsForm: any;\r\n\r\n        init() {\r\n            document.body.classList.add(\"unconnected\");\r\n        }\r\n\r\n        processed(element, options) {\r\n            var page = this;\r\n            page.defaultname = Kodi.Settings.defaultConnection();\r\n\r\n            page.settingsForm.setting = Kodi.Settings.getSetting(page.defaultname);\r\n        }\r\n\r\n        testConnection() {\r\n            var page = this;\r\n            page.messages.innerHTML = \"\";\r\n            if (page.settingsForm.validate()) {\r\n                var setting = page.settingsForm.setting;\r\n                return Kodi.API.testServerSetting(setting).then(function () {\r\n                    Kodi.Settings.save(page.defaultname, setting, true);\r\n                    Kodi.API.currentSettings = setting;\r\n                    return BtPo.UI.DataLoader.showLoader(true);\r\n                }, function () {\r\n                    page.messages.innerText = \"Server cannot be reached. Please verify that your Kodi or XBMC is running and check it's configuration. Also check your network settings like firewall configuration\";\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    WinJS.UI.Pages.define(BootstrapPage.url, BootstrapPage);\r\n}\r\n"],"sourceRoot":" "}