{"version":3,"sources":["movieslist.ts"],"names":["BtPo","BtPo.UI","BtPo.UI.Pages","BtPo.UI.Pages.MoviesListPage","BtPo.UI.Pages.MoviesListPage.constructor","BtPo.UI.Pages.MoviesListPage.init","BtPo.UI.Pages.MoviesListPage.saveViewSetting","BtPo.UI.Pages.MoviesListPage.processed","BtPo.UI.Pages.MoviesListPage.ready","BtPo.UI.Pages.MoviesListPage.pickGenre","BtPo.UI.Pages.MoviesListPage.updateLayout","BtPo.UI.Pages.MoviesListPage.calcItemsSizes","BtPo.UI.Pages.MoviesListPage.showMenu","BtPo.UI.Pages.MoviesListPage.hideMenu"],"mappings":"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","file":"BringThePopcorn/pages/movies/list/movieslist.js","sourcesContent":["declare module WinJSContrib.UI {\r\n    var DataSources: any;\r\n}\r\n\r\ndeclare module BtPo.UI {\r\n    var GenrePicker: any;\r\n}\r\n\r\nmodule BtPo.UI.Pages {\r\n    interface IMovieViewSetting\r\n    {\r\n        group: string;\r\n        view: string;\r\n    }\r\n\r\n    export class MoviesListPage {\r\n        public static url = \"/pages/movies/list/movieslist.html\";\r\n\r\n        itemsPromise: WinJS.Promise<any>;\r\n        selectedGenre: string;\r\n        semanticzoom: any;\r\n        filterByPlayed: boolean;\r\n        element: HTMLElement;\r\n        onlyUnplayed: HTMLInputElement;\r\n        menuGroups: HTMLElement;\r\n        menuViews: HTMLElement;\r\n        genretitle: HTMLElement;\r\n        menu: HTMLElement; \r\n        itemsStyle: HTMLStyleElement;\r\n        movies: Kodi.API.Videos.Movies.Movie[];\r\n        genres: Kodi.API.Genre[];\r\n        viewSetting: IMovieViewSetting;\r\n        \r\n        static moviesGroups = {\r\n            \"none\": {\r\n                name : \"no grouping\",\r\n                groupKind: null,\r\n                groupField: null\r\n            },\r\n            \"alphabetic\": {\r\n                name: \"alphabetic\",\r\n                groupKind: WinJSContrib.UI.DataSources.Grouping.alphabetic,\r\n                groupField: 'title'\r\n            },\r\n            \"year\": {\r\n                name: \"year\",\r\n                groupKind: WinJSContrib.UI.DataSources.Grouping.byField,\r\n                groupField: 'year'\r\n            },\r\n            \"studio\": {\r\n                name: \"studio\",\r\n                groupKind: WinJSContrib.UI.DataSources.Grouping.byField,\r\n                groupField: 'studio'\r\n            }\r\n        }\r\n\r\n        static moviesViews = {\r\n            \"poster\": {\r\n                name: \"poster\",\r\n                template: BtPo.Templates.movieposter\r\n            },\r\n            \"bigposter\": {\r\n                name: \"big poster\",\r\n                template: BtPo.Templates.movieposter\r\n            },\r\n            //\"detailed\": {\r\n            //    name: \"detailed\",\r\n            //    template: BtPo.Templates.movieposter\r\n            //}\r\n        }\r\n\r\n        init(element, options) {\r\n            this.filterByPlayed = false;\r\n            element.classList.add(\"listpage\");\r\n            element.classList.add(\"page-movieslist\");\r\n            this.itemsPromise = Kodi.Data.loadRootData();      \r\n            this.viewSetting = {\r\n                group: \"none\",\r\n                view : \"poster\"\r\n            }\r\n            var s = localStorage[\"moviesListView\"];\r\n            if (s) {\r\n                this.viewSetting = <IMovieViewSetting>JSON.parse(s);\r\n            }\r\n        }\r\n\r\n        saveViewSetting() {\r\n            localStorage[\"moviesListView\"] = JSON.stringify(this.viewSetting);\r\n        }        \r\n\r\n        processed(element, options) {\r\n            var page = this;\r\n            if (options && options.genre) {\r\n                page.selectedGenre = options.genre;\r\n                page.genretitle.innerText = page.selectedGenre;\r\n            }\r\n\r\n            page.itemsStyle = <HTMLStyleElement>document.createElement(\"STYLE\");\r\n            page.element.appendChild(page.itemsStyle);\r\n            \r\n            page.itemsPromise = page.itemsPromise.then((data: Kodi.Data.IMediaLibrary) => {\r\n                page.movies = data.movies.movies;\r\n                page.genres = data.movieGenres.genres;\r\n                \r\n                BtPo.ListHelpers.renderMenu({\r\n                    views: MoviesListPage.moviesViews,\r\n                    groups: MoviesListPage.moviesGroups,\r\n                    root: page.element,\r\n                    viewsContainer: page.menuViews,\r\n                    groupsContainer: page.menuGroups,\r\n                    dsManager: page.semanticzoom,\r\n                    setting: page.viewSetting,\r\n                    defaultView: \"poster\",\r\n                    defaultGroup: \"none\",\r\n                    saveSetting: () => {\r\n                        this.saveViewSetting();\r\n                    }\r\n                });\r\n\r\n                page.semanticzoom.dataManager.filter = (movie: Kodi.API.Videos.Movies.Movie) => {\r\n                    if (page.filterByPlayed && movie.lastplayed)\r\n                        return false;\r\n\r\n                    if (!page.selectedGenre)\r\n                        return true;\r\n\r\n                    var hasgenre = movie.allgenres.indexOf(page.selectedGenre) >= 0;\r\n                    return hasgenre;\r\n                }\r\n                page.semanticzoom.listview.layout = new WinJS.UI.GridLayout();\r\n                page.semanticzoom.listview.layout.orientation = \"vertical\";\r\n                page.semanticzoom.zoomedOutListview.layout = new WinJS.UI.GridLayout();\r\n                page.semanticzoom.zoomedOutListview.layout.orientation = \"vertical\";\r\n                page.semanticzoom.listview.oniteminvoked = (arg) => {\r\n                    arg.detail.itemPromise.then((item) => {\r\n                        WinJS.Navigation.navigate(\"/pages/movies/detail/moviesdetail.html\", { movie: item.data, navigateStacked: true });\r\n                    });\r\n                }\r\n            });\r\n\r\n            page.onlyUnplayed.onchange = () => {\r\n                page.filterByPlayed = page.onlyUnplayed.checked;\r\n                this.semanticzoom.dataManager.refresh();\r\n            }\r\n        }\r\n\r\n        ready() {\r\n            var page = this;\r\n            page.itemsPromise.then(function () {\r\n                page.calcItemsSizes();\r\n                page.semanticzoom.dataManager.items = page.movies;\r\n            });\r\n        }\r\n\r\n        pickGenre() {\r\n            var page = this;\r\n            BtPo.UI.GenrePicker.pick(page.genres).then(function (genre) {\r\n                if (genre) {\r\n                    if (genre === \"all\") {\r\n                        page.selectedGenre = null;\r\n                        page.genretitle.innerText = \"all\";\r\n                    } else {\r\n                        page.selectedGenre = genre.label;\r\n                        page.genretitle.innerText = page.selectedGenre;\r\n                    }\r\n                    page.semanticzoom.dataManager.refresh();\r\n                }\r\n            });\r\n        }\r\n\r\n        updateLayout(element) {\r\n            var page = this;\r\n            this.calcItemsSizes();\r\n            page.semanticzoom.listview.forceLayout();\r\n        }\r\n\r\n        calcItemsSizes() {\r\n            var page = this;\r\n            var w = page.element.clientWidth;\r\n            if (w) {\r\n                var content = [];\r\n\r\n                var nbitems = ((w / 260) << 0) + 1;\r\n                var posterW = ((w / nbitems) << 0) - 1;\r\n                var posterH = (posterW / Kodi.App.PictureRatios.movieposter) << 0;\r\n                content.push(\".page-movieslist.view-poster .movie { width:\" + posterW + \"px; height:\" + posterH + \"px}\");\r\n\r\n                var nbitems = ((w / 400) << 0) + 1;\r\n                var posterW = ((w / nbitems) << 0) - 1;\r\n                var posterH = (posterW / Kodi.App.PictureRatios.movieposter) << 0;\r\n                content.push(\".page-movieslist.view-bigposter .movie { width:\" + posterW + \"px; height:\" + posterH + \"px}\");\r\n\r\n                var nbitems = ((w / 1024) << 0) + 1;\r\n                var posterW = ((w / nbitems) << 0) - 1;\r\n                var posterH = (posterW / Kodi.App.PictureRatios.fanart) << 0;\r\n                content.push(\".page-movieslist.view-detailed .movie { width:\" + posterW + \"px; height:\" + posterH + \"px}\");\r\n                page.itemsStyle.innerHTML = content.join(\"\\r\\n\");\r\n            }\r\n        }\r\n\r\n        showMenu() {\r\n            this.menu.classList.add(\"visible\");   \r\n        }\r\n\r\n        hideMenu() {\r\n            this.menu.classList.remove(\"visible\");   \r\n        }\r\n    }\r\n\r\n    WinJS.UI.Pages.define(MoviesListPage.url, MoviesListPage);\r\n}\r\n"],"sourceRoot":" "}