!function(e){this.setImmediate||(this.setImmediate=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return setTimeout(e,0),0}),this.toStaticHTML||(this.toStaticHTML=function(e){return e});var n=e.MSApp;n&&!n.execUnsafeLocalFunction&&(n.execUnsafeLocalFunction=function(e){e()})}(this),Object.map||(Object.map=function(e,n){var t={};return"object"!=typeof e?t:("function"!=typeof n&&(n=function(e,n){return[e,n]}),Object.keys(e).forEach(function(r){var i=n.apply(e,[r,e[r]]);i&&i.length&&(t[i[0]||r]=i[1])}),t)}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(n,t){return"undefined"!=typeof e[t]?e[t]:n})}),String.prototype.padLeft||(String.prototype.padLeft=function(e,n){return void 0===n&&(n="0"),this.length<e?(n+this).padLeft(e,n):this});var WinJSContrib;!function(e){var n;!function(e){function n(e,n){var t=WinJS.Promise.wrap(),r=[];if(!e)return WinJS.Promise.wrap([]);var i=WinJS.Promise.as(e);return i.then(function(e){for(var i=function(e,t){return e.then(function(e){return WinJS.Promise.as(n(t)).then(function(e){r.push(e)})})},o=0,a=e.length;a>o;o++){var s=e[o];!s&&e.getItem&&(s=e.getItem(o)),t=i(t,s)}return t.then(function(e){return r})})}function t(e,n){if(!e)return WinJS.Promise.wrap([]);var t=WinJS.Promise.as(e);return t.then(function(e){for(var t=[],r=0,i=e.length;i>r;r++){var o=e[r];!o&&e.getItem&&(o=e.getItem(r)),t.push(WinJS.Promise.as(n(o)))}return WinJS.Promise.join(t)})}function r(e,n,t){if(!e)return WinJS.Promise.wrap([]);var r=WinJS.Promise.as(e);return r.then(function(e){for(var r=WinJS.Promise.wrap(),i=[],o=[],a=!1,s=function(e,n){return e.then(function(e){return WinJS.Promise.join(n.map(function(e){return WinJS.Promise.as(t(e))})).then(function(e){e=e.concat(e)},function(e){o=o.concat(e),a=!0})})},c=0,u=e.length;u>c;c++){var l=e[c];!l&&e.getItem&&(l=e.getItem(c)),i.push(l),c>0&&c%n===0&&(r=s(r,i),i=[])}return i.length&&(r=s(r,i)),r.then(function(){return a?WinJS.Promise.wrapError(o):o})})}e.waterfall=n,e.parallel=t,e.batch=r}(n=e.Promise||(e.Promise={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(e){var n;!function(n){function t(){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(arguments[0][n]=arguments[e][n]);return arguments[0]}function r(e,n){if(!n)return!1;var t=e.match("^"+n)==n;return t}function i(e,n,t){void 0===t&&(t=1);for(var r=0;r<e.length;)setImmediate(function(){for(var i=0;t>i&&r<e.length;i++)r++,n(e[r])})}function o(e,n){return n?e.match(n+"$")==n:!1}function a(n){var t=[];for(var r in n)if(n.hasOwnProperty(r)){var i=encodeURIComponent(r),o=n[r],a=e.Utils.hasValue(o)?encodeURIComponent(o):"";t.push(i+"="+a)}return t.join("&")}function s(e,n,t,r){var i=document.createEvent("Event");i.initEvent(n,t,r),e.dispatchEvent(i)}function c(e,n,t,r,i){var o=document.createEvent("CustomEvent");o.initCustomEvent(n,t,r,i),e.dispatchEvent(o)}function u(e,n){if(e){if("this"===n)return e;var t=e[n];if("undefined"!=typeof t)return t;var r=n.indexOf("[");if(!(0>r)){var i=n.indexOf("]",r);if(!(0>i)){var o=n.substr(r+1,i-r);return o=parseInt(o),e[o]}}}}function l(n,t,r){if(n){if(e.Utils.hasValue(t))return n.setProperty?void n.setProperty(t,r):void(n[t]=r);if("string"==typeof t){var i=t.indexOf("[");if(0>i)return;var o=t.indexOf("]",i);if(0>o)return;var a=t.substr(i+1,o-i),s=parseInt(a);n[s]=r}}}function p(n,t){if("string"==typeof t&&n[t])return n[t];if(!t||!t.length)return n;var r=e.Utils.getProperty(n,t);return r?r.propValue:void 0}function f(e,n){"string"==typeof n&&(n=n.split(".")),n&&n.length||(n=["this"]);for(var t=e,r=null,i=0;i<n.length;i++){var o=new N(t,r,n[i]);if(r=o,i==n.length-1)return o;t=u(t,n[i])}}function d(n,t,r){var i=e.Utils.getProperty(n,t);i&&(i.propValue=r)}function v(e,n){return Math.random()*(n-e+1)+e<<0}function m(e,n){return e>n?1:n>e?-1:0}function h(n,t,r){if(null===n||0===n.length)return n;"undefined"==typeof r&&(r=!1);var i,o,a="",s=0,c=[];if(r)for(o=0;o<n.length;o++){if(t){var u=e.Utils.readProperty(n[o],t.split("."));i=u,u||(i=u),u&&u.toLowerCase&&(i=u.toLowerCase())}else i=n[o];a.indexOf("|"+i+"|")<0&&(a+="|"+i+"|",c[s++]=n[o])}else for(o=0;o<n.length;o++)i=t?e.Utils.readProperty(n[o],t.split(".")):n[o],a.indexOf("|"+i+"|")<0&&(a+="|"+i+"|",c[s++]=n[o]);return c}function g(t,r,i){return n.distinctArray(t,r,i).map(function(n){return e.Utils.readProperty(n,r.split("."))})}function y(e){var n=e.toLowerCase();return n=n.replace(new RegExp("[àáâãäå]","g"),"a"),n=n.replace(new RegExp("æ","g"),"ae"),n=n.replace(new RegExp("ç","g"),"c"),n=n.replace(new RegExp("[èéêë]","g"),"e"),n=n.replace(new RegExp("[ìíîï]","g"),"i"),n=n.replace(new RegExp("ñ","g"),"n"),n=n.replace(new RegExp("[òóôõö]","g"),"o"),n=n.replace(new RegExp("œ","g"),"oe"),n=n.replace(new RegExp("[ùúûü]","g"),"u"),n=n.replace(new RegExp("[ýÿ]","g"),"y")}function w(e){var n=[];WinJS.Navigation.history&&WinJS.Navigation.history.backStack&&WinJS.Navigation.history.backStack.length&&WinJS.Navigation.history.backStack.forEach(function(t){t.location!==e&&n.push(t)}),WinJS.Navigation.history.backStack=n}function S(e){return(10>e?"0":"")+e}function T(e,n,t){if(!e)return"";var r=e.length>n,i=r?e.substr(0,n-1):e;return i=t&&r?i.substr(0,i.lastIndexOf(" ")):i,r?i+"...":i}function P(){var e=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:7&t|8).toString(16)});return n}function C(e,n){if(e&&e.parentElement)for(var t=e.parentElement;t;){if(t.winControl&&void 0!==t.winControl[n])return t.winControl[n];t=t.parentElement}}function k(e,n){if(e&&n){for(var t=[],r=0;r<e.childNodes.length;r++)t.push(e.childNodes[r]);t.forEach(function(e){n.appendChild(e)})}}function b(e,n){if(n)for(var t=n.parentNode;t;){if(t[e]&&t.winControl)return t.winControl;t=t.parentNode}}function W(e,n){if(n)for(var t=n.parentNode;t;){if(t.classList&&t.classList.contains(e)&&t.winControl)return t.winControl;t=t.parentNode}}function J(n){return e.Utils.getParent("mcnPage",n)}function U(e){for(var n=e.parentNode;n;){if(n.msParentSelectorScope){var t=n.parentNode;if(t){var r=t.winControl;if(r)return r}}n=n.parentNode}}function E(e){if(e){var n=typeof e;if("string"==n)return new WinJS.Binding.Template(null,{href:e});if("function"==n)return{render:function(n,t){var r=e(n,t);return WinJS.Promise.as(r)}};if(e.winControl)return e.winControl;if(e.render)return e}}function I(n,t){var r=e.Utils.resolveValue(n,t);return r&&"function"==typeof r?r:void 0}function L(n,t){var r=e.Utils.resolveValue(n,t);return r?"function"==typeof r?r(n):r:void 0}function A(e,t,r){var i=t.split(":");if(i.length>1){var o=i[0],a=t.substr(o.length+1),s=n.ValueParsers[o];if(s)return s(e,a,r)}return t}function x(n,t,r,i,o){var a=e.Utils.resolveValue(n,t,o);a&&a.then&&a.mcnMustResolve?a.then(function(n){e.Utils.writeProperty(r,i,n)}):e.Utils.writeProperty(r,i,a)}function _(e){return"undefined"!=typeof e&&null!==e}function M(e){return"{0} - {1}: {2}".format(e.status,e.statusText,e.responseText)}function q(e){return function(n){for(var t=null,r=0;r<n.length;r++){var i=n[r];if("undefined"!=typeof i){t=i;break}}return e(t)}}function D(e,n){if(n)for(var t in n)e[t]=n[t]}n.extend=t,n.startsWith=r,String.prototype.startsWith||(String.prototype.startsWith=function(n){return e.Utils.startsWith(this,n)}),n.asyncForEach=i,n.endsWith=o,String.prototype.endsWith||(String.prototype.endsWith=function(n){return e.Utils.endsWith(this,n)}),n.queryStringFrom=a,n.triggerEvent=s,n.triggerCustomEvent=c,n.readProperty=p;var N=function(){function e(e,n,t){this.parent=e,this.parentDescriptor=n,this.keyProp=t}return e.prototype.ensureParent=function(){return parent?parent:void(this.parentDescriptor&&(this.parentDescriptor.ensureParent(),this.parentDescriptor.parent[this.parentDescriptor.keyProp]||(this.parentDescriptor.parent[this.parentDescriptor.keyProp]={},this.parent=this.parentDescriptor.parent[this.parentDescriptor.keyProp])))},Object.defineProperty(e.prototype,"propValue",{get:function(){return u(this.parent,this.keyProp)},set:function(e){this.ensureParent(),l(this.parent,this.keyProp,e)},enumerable:!0,configurable:!0}),e}();n.PropertyDescriptor=N,n.getProperty=f,n.writeProperty=d,n.randomFromInterval=v,n.alphabeticSort=m,n.distinctArray=h,n.getDistinctPropertyValues=g,n.removeAccents=y,n.removePageFromHistory=w,n.pad2=S,n.ellipsisizeString=T,n.guid=P,n.inherit=C,n.moveChilds=k,n.getParent=b,n.getParentControlByClass=W,n.getParentPage=J,n.getScopeControl=U,n.getTemplate=E,n.resolveMethod=I,n.readValue=L,n.ValueParsers={navpage:function(n,t,r){var i=r&&r.data?r.data.navpage:null;if(i||(e.Utils.getParentPage&&(i=e.Utils.getParentPage(n),r&&r.data&&(r.data.navpage=i)),!i&&e.UI.Application.navigator&&(i=e.UI.Application.navigator.pageControl,r&&r.data&&(r.data.navpage=i))),i){r&&(r.parentControl=i);var o=e.Utils.readProperty(i,t);return o&&"function"==typeof o?o.bind(i):o}},page:function(n,t,r){var i=r&&r.data?r.data.page:null;if(i||(i=e.Utils.getParentControlByClass("pagecontrol",n),r&&r.data&&(r.data.page=i)),i){r&&(r.parentControl=i);var o=e.Utils.readProperty(i,t);return o&&"function"==typeof o?o.bind(i):o}},ctrl:function(n,t,r){var i=r&&r.data?r.data.scope:null;if(i||(i=e.Utils.getScopeControl(n),r&&r.data&&(r.data.scope=i)),i){r&&(r.parentControl=i);var o=e.Utils.readProperty(i,t);return o&&"function"==typeof o?o.bind(i):o}},select:function(n,t,r){var i=r&&r.data?r.data.scope:null;i||(i=e.Utils.getScopeControl(n),r&&r.data&&(r.data.scope=i));var n=null,o=t.split("|"),a=o[0];if(i&&(n=i.element.querySelector(a)),n||(n=document.querySelector(a)),1==o.length)return n;if(o.length>1){var s=p(n,t.substr(o[0].length+1));return s}},obj:function(n,t,r){return WinJS.UI.optionsParser(t,window,{select:WinJS.Utilities.markSupportedForProcessing(function(t){var r=e.Utils.getScopeControl(n);return r?r.element.querySelector(t):document.querySelector(t)})})},prom:function(e,n,t){var r=A(e,n,t);return r.then&&(r=r.then(null,null),r.mcnMustResolve=!0),r},list:function(e,n,t){var r=A(e,n,t);if(r){if(r.then){var i=r.then(function(e){return new WinJS.Binding.List(e).dataSource});return i.mcnMustResolve=!0,i}return new WinJS.Binding.List(r).dataSource}},global:function(n,t,r){return e.Utils.readProperty(window,t)},templ:function(n,t,r){return e.Templates.get(t)},element:function(e,n,t){var r=A(e,n,t);return r?r.element:void 0},event:function(e,n,t){var r=A(e,n,t),i=null;r&&t&&t.name&&(t&&(i=t.parentControl),r&&"function"==typeof r&&(i&&i.eventTracker?i.eventTracker.addEvent(t.control,t.name,r):t.control.addEventListener(t.name,r)))}},n.resolveValue=A,n.applyValue=x,n.hasValue=_,n.formatXHRError=M,n.unwrapJoinError=q,n.inject=D}(n=e.Utils||(e.Utils={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(e){var n;!function(n){function t(e){var n=o[e];return o[e]?n:new WinJS.Binding.Template(null,{href:e})}function r(n,t){var r=e.Templates.get(n);if(r)return e.Templates.makeInteractive(r,t);throw{message:"template not found for "+n}}function i(n,t){return function(r){return r.then(function(r){return n.render(r).then(function(n){if(t.tap)for(var i in t.tap){var o=n.querySelector(i);e.UI.tap(o,function(e){t.tap[i](e,r)})}if(t.click)for(var i in t.click){var o=n.querySelector(i);o.onclick=function(e){t.click[i](e,r)}}return n})})}}var o={};n.get=t,n.interactive=r,n.makeInteractive=i}(n=e.Templates||(e.Templates={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(e){var n;!function(n){function t(e,n){for(var t=0,r=0,i=e.clientWidth,o=e.clientHeight;e&&e!=n;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,r+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:r,width:i,height:o}}function r(){var e=document.querySelectorAll('div[data-win-control="WinJS.UI.AppBar"],div[data-win-control="WinJS.UI.NavBar"]');if(e&&e.length)for(var n=0;n<e.length;n++){var t=e[n];t.winControl&&t.winControl.show()}}function i(){var e=document.querySelectorAll('div[data-win-control="WinJS.UI.AppBar"],div[data-win-control="WinJS.UI.NavBar"]');if(e&&e.length)for(var n=0;n<e.length;n++){var t=e[n];t.winControl&&t.winControl.hide()}}function o(){var e=document.querySelectorAll('div[data-win-control="WinJS.UI.AppBar"],div[data-win-control="WinJS.UI.NavBar"]');if(e&&e.length)for(var n=0;n<e.length;n++){var t=e[n];t.winControl&&(t.winControl.disabled=!0)}}function a(){var e=document.querySelectorAll('div[data-win-control="WinJS.UI.AppBar"],div[data-win-control="WinJS.UI.NavBar"]');if(e&&e.length)for(var n=0,t=e.length;t>n;n++){var r=e[n];r.winControl&&(r.winControl.disabled=!1)}}function s(e,n){return new WinJS.Promise(function(t,r){function i(n){e.onload=void 0,e.onerror=void 0,e.onreadystatechange=void 0,r("element not loaded")}function o(r){e.onload=void 0,e.onerror=void 0,e.onreadystatechange=void 0,t({element:e,url:n})}e.onerror=i,e.onload=o,e.onreadystatechange=o,e.naturalWidth>0&&o(void 0),e.src=n})}function c(e){return new WinJS.Promise(function(n,t){function r(n){o.onload=void 0,o.onerror=void 0,t({message:"image not loaded : "+e,path:e})}function i(t){o.onload=void 0,o.onerror=void 0,n({element:o,url:e})}var o=new Image;o.onerror=r,o.onload=i,o.naturalWidth>0&&i(void 0),o.src=e})}function u(e){var n=[],t=!1;if(e.parentElement)for(var r=e.parentElement,i=0;i<r.children.length;i++)r.children[i]===e?t=!0:t&&n.push(r.children[i]);return n}function l(n){return new WinJS.Promise(function(t,r){var i=e.UI.listElementsAfterMe(n),o=WinJS.UI.Animation.createDeleteFromListAnimation([n],i);n.style.position="fixed",n.style.opacity="0",o.execute().done(function(){t(n)})})}function p(n,t,r){n.classList.add("page-action");var i=n.dataset.pageAction||n.getAttribute("tap"),o=r[i];if(o&&"function"==typeof o){var a=n.dataset.pageActionOptions||n.getAttribute("tap-options");if(a)try{a=WinJS.UI.optionsParser(a,window)}catch(s){return}e.UI.tap(n,function(t){var o=WinJS.Promise.wrap(),a=t.dataset.pageActionArgs||n.getAttribute("tap-args");if(a&&"string"==typeof a){var s=e.Utils.readValue(t,a);o=WinJS.Promise.as(s).then(function(e){if("string"==typeof e)try{e=WinJS.UI.optionsParser(e,window)}catch(n){return}return e}),s&&(a=s)}return o.then(function(){return r[i].bind(r)({elt:t,args:a})})},a)}}function f(e,n){var t=e.querySelectorAll("*[data-page-action], *[tap]");if(t&&t.length)for(var r=0,i=t.length;i>r;r++){var o=t[r];p(o,e,n)}}function d(n,t){n.classList.add("page-link");var r=n.getAttribute("applink"),i=n.dataset.pageLink||n.getAttribute("linkto");if(i&&i.indexOf("/")<0){var o=e.Utils.readProperty(window,i);o&&(i=o)}if(i){var a=n.dataset.pageActionOptions||n.getAttribute("tap-options");if(a)try{a=WinJS.UI.optionsParser(a,window)}catch(s){return}e.UI.tap(n,function(t){var o=WinJS.Promise.wrap(),a=t.dataset.pageActionArgs||n.getAttribute("linkto-args");if(a&&"string"==typeof a){var s=e.Utils.readValue(t,a);o=WinJS.Promise.as(s).then(function(e){if("string"==typeof e)try{e=WinJS.UI.optionsParser(e,window)}catch(n){}return e})}return o.then(function(n){if(!r&&e.UI.parentNavigator&&e.UI.parentNavigator(t)){var o=e.UI.parentNavigator(t);return o.navigate(i,n)}return WinJS.Navigation.navigate(i,n)})},a)}}function v(e){var n=e.querySelectorAll("*[data-page-link], *[linkto]");if(n&&n.length)for(var t=0,r=n.length;r>t;t++){var i=n[t];d(i,e)}}function m(e){for(var n=e.parentNode;n;){if(n.mcnNavigator)return n.winControl;n=n.parentNode}}function h(e,n,t){e.classList.add("page-member");var r=e.dataset.pageMember||e.getAttribute("member");r||(r=e.id),r&&!t[r]&&(t[r]=e,e.winControl&&(t[r]=e.winControl))}function g(e,n){var t=e.querySelectorAll("*[data-page-member], *[member]");if(t&&t.length)for(var r=0,i=t.length;i>r;r++){var o=t[r];h(o,e,n)}}function y(n,t){e.UI.bindPageActions(n,t),e.UI.bindPageLinks(n)}function w(n,t){function r(e){var n=new WinJS.Promise(function(e){});e.detail.setPromise(n),n.cancel()}var i={control:n,callback:t};W.push(i);var o=function(e){var n=W.indexOf(i);if(n===W.length-1)for(i.callback.bind(i.control)(e),n--;n>=0&&!e.handled;){var t=W[n];t.callback.bind(t.control)(e),n--}};WinJS.Navigation.addEventListener("beforenavigate",r),window.Windows&&window.Windows.Phone?window.Windows.Phone.UI.Input.HardwareButtons.addEventListener("backpressed",o):document.addEventListener("backbutton",o);var a=function(e){("Esc"===e.key||"Backspace"===e.key)&&o(e)};return document.body.addEventListener("keypress",a),e.UI.Application&&e.UI.Application.navigator&&e.UI.Application.navigator.addLock(),function(){e.UI.Application&&e.UI.Application.navigator&&e.UI.Application.navigator.removeLock();var n=W.indexOf(i);W.splice(n,1),document.body.removeEventListener("keypress",a),WinJS.Navigation.removeEventListener("beforenavigate",r),window.Windows&&window.Windows.Phone?window.Windows.Phone.UI.Input.HardwareButtons.removeEventListener("backpressed",o):document.removeEventListener("backbutton",o)}}function S(e){e&&e.mcnTapTracking&&(e.mcnTapTracking.dispose(),e.mcnTapTracking=null)}function T(e){if(e)for(var n=e.querySelectorAll(".tap"),t=0,r=n.length;r>t;t++)S(n[t])}function P(n,t,r){if(n){var i=function(e){var n=e.currentTarget||e.target,t=n.mcnTapTracking;t&&(void 0===e.button||0===e.button||t.allowRickClickTap&&2===e.button)&&(t.lock&&(e.pointerId&&e.currentTarget.setPointerCapture&&e.currentTarget.setPointerCapture(e.pointerId),e.stopPropagation(),e.preventDefault()),WinJS.Utilities.addClass(n,"tapped"),t.pointerdown=e.changedTouches?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY},t.animDown(e.currentTarget),t.tapOnDown&&t.callback(n,e))},o=function(e){var n=e.currentTarget||e.target,t=n.mcnTapTracking;if(t&&t.pointerdown){if(WinJS.Utilities.removeClass(n,"tapped"),e.pointerId&&n.releasePointerCapture)try{n.releasePointerCapture(e.pointerId)}catch(r){console.error(r)}t.disableAnimation||t.animUp(e.currentTarget)}},a=function(e){var n=e.currentTarget||e.target,t=n.mcnTapTracking;if(t&&(void 0===e.button||0===e.button||t.allowRickClickTap&&2===e.button)){if(n.releasePointerCapture)try{n.releasePointerCapture(e.pointerId)}catch(r){console.error(r)}if(t&&!t.tapOnDown){e.stopPropagation();var i=function(){if(t&&t.pointerdown){if(e.changedTouches)var r=Math.abs(t.pointerdown.x-e.changedTouches[0].clientX),i=Math.abs(t.pointerdown.y-e.changedTouches[0].clientY);else var r=Math.abs(t.pointerdown.x-e.clientX),i=Math.abs(t.pointerdown.y-e.clientY);if(t.callback&&15>r&&15>i){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();var o=t.callback(n,e);WinJS.Promise.is(o)&&(n.disabled=!0,WinJS.Utilities.addClass(n,"working"),o.then(function(){n.disabled=!1,WinJS.Utilities.removeClass(n,"working")}))}t&&t.pointerdown&&(t.pointerdown=void 0)}};t.awaitAnim?t.animUp(n).done(i):(t.animUp(n),i())}WinJS.Utilities.removeClass(n,"tapped")}},s=r||{};n.mcnTapTracking&&n.mcnTapTracking.dispose(),WinJS.Utilities.addClass(n,"tap"),n.mcnTapTracking=n.mcnTapTracking||{},n.mcnTapTracking.eventTracker=new e.UI.EventTracker,n.mcnTapTracking.disableAnimation=s.disableAnimation,n.mcnTapTracking.disableAnimation?(n.mcnTapTracking.animDown=function(){return WinJS.Promise.wrap()},n.mcnTapTracking.animUp=function(){return WinJS.Promise.wrap()}):(n.mcnTapTracking.animDown=s.animDown||WinJS.UI.Animation.pointerDown,n.mcnTapTracking.animUp=s.animUp||WinJS.UI.Animation.pointerUp),n.mcnTapTracking.element=n,n.mcnTapTracking.callback=t,n.mcnTapTracking.lock=s.lock,n.mcnTapTracking.awaitAnim=s.awaitAnim||!1,n.mcnTapTracking.disableAnimation=s.disableAnimation,n.mcnTapTracking.tapOnDown=s.tapOnDown,n.mcnTapTracking.pointerModel="none",n.mcnTapTracking.dispose=function(){WinJS.Utilities.removeClass(n,"tap"),this.eventTracker.dispose(),n.mcnTapTracking=null,n=null},void 0!==n.onpointerdown?(n.mcnTapTracking.pointerModel="pointers",n.mcnTapTracking.eventTracker.addEvent(n,"pointerdown",i),n.mcnTapTracking.eventTracker.addEvent(n,"pointerout",o),n.mcnTapTracking.eventTracker.addEvent(n,"pointerup",a)):window.Touch&&!s.noWebkitTouch?(n.mcnTapTracking.pointerModel="touch",n.mcnTapTracking.eventTracker.addEvent(n,"touchstart",function(e){n.mcnTapTracking.cancelMouse=!0,i(e)}),n.mcnTapTracking.eventTracker.addEvent(n,"touchcancel",function(e){setTimeout(function(){n.mcnTapTracking.cancelMouse=!1},1e3),o(e)}),n.mcnTapTracking.eventTracker.addEvent(n,"touchend",function(e){setTimeout(function(){n.mcnTapTracking.cancelMouse=!1},1e3),a(e)}),n.mcnTapTracking.eventTracker.addEvent(n,"mousedown",function(e){n.mcnTapTracking.cancelMouse||i(e)}),n.mcnTapTracking.eventTracker.addEvent(n,"mouseleave",function(e){o(e)}),n.mcnTapTracking.eventTracker.addEvent(n,"mouseup",function(e){n.mcnTapTracking.cancelMouse?o(e):a(e)})):(n.mcnTapTracking.pointerModel="mouse",n.mcnTapTracking.eventTracker.addEvent(n,"mousedown",i),n.mcnTapTracking.eventTracker.addEvent(n,"mouseleave",o),n.mcnTapTracking.eventTracker.addEvent(n,"mouseup",a))}}function C(e,n){var t=null;return new WinJS.Promise(function(r,i){var o=function(n){n.srcElement===e&&a()},a=function(){clearTimeout(t),e.removeEventListener("transitionend",o,!1),r()};e.addEventListener("transitionend",o,!1),t=setTimeout(a,n||1e3)})}n.Application={},n.disableAutoResources=!1,n.offsetFrom=t;var k=function(){function e(){this.events=[]}return e.prototype.addEvent=function(e,n,t,r){var i=this;e.addEventListener(n,t,r);var o=function(){try{e.removeEventListener(n,t);var r=i.events.indexOf(o);r>=0&&i.events.splice(r,1)}catch(a){console.error("unexpected error while releasing callback "+a.message)}};return this.events.push(o),o},e.prototype.addBinding=function(e,n,t){e.bind(n,t);var r=function(){e.unbind(n,t)};return this.events.push(r),r},e.prototype.dispose=function(){for(var e=0;e<this.events.length;e++)this.events[e]();this.events=[]},e}();n.EventTracker=k,n.appbarsOpen=r,n.appbarsClose=i,n.appbarsDisable=o,n.appbarsEnable=a,n.elementLoaded=s,n.loadImage=c,n.listElementsAfterMe=u,n.removeElementAnimation=l,n.bindPageActions=f,n.bindPageLinks=v,n.parentNavigator=m,n.bindMembers=g,n.bindActions=y;var b=function(){function e(e,n){var t=this;t.queries=[],t.linkedControl=n;for(var r in e){var i=e[r];i.query&&t.registerMediaEvent(r,i.query,i)}}return e.prototype.dispose=function(){var e=this;e.linkedControl=null,this.queries.forEach(function(e){e.dispose()})},e.prototype.registerMediaEvent=function(e,n,t){var r=this,i=window.matchMedia(n),o={name:e,query:n,data:t,mq:i,dispose:null},a=function(e){e.matches&&r._mediaEvent(e,o)};i.addListener(a),o.dispose=function(){i.removeListener(a)},r.queries.push(o)},e.prototype._mediaEvent=function(e,n){var t=this;t.linkedControl&&WinJS.UI.setOptions(t.linkedControl,n.data),t.dispatchEvent("media",n)},e.prototype.check=function(){var e=this;e.queries.forEach(function(n){var t=window.matchMedia(n.query);t.matches&&e._mediaEvent({matches:!0},n)})},e.prototype.addEventListener=function(e,n,t){},e.prototype.dispatchEvent=function(e,n){return!1},e.prototype.removeEventListener=function(e,n,t){},e}();n.MediaTrigger=b,WinJS.Class.mix(e.UI.MediaTrigger,WinJS.Utilities.eventMixin);var W=[];n.registerNavigationEvents=w,n.untap=S,n.untapAll=T,n.tap=P,n.afterTransition=C;var J=function(){function n(e,n,t,r){this.element=document.createElement(e),n&&(this.element.className=n),t&&t.appendChild(this.element),this.parent=r,this.childs=[],r&&r.childs.push(this)}return n["for"]=function(e){var t=new n(null);return t.element=e,t},n.fragment=function(){var e=new n(null);return e.element=document.createDocumentFragment(),e},Object.defineProperty(n.prototype,"control",{get:function(){return this.element.winControl},enumerable:!0,configurable:!0}),n.prototype.addClass=function(e){return this.element.classList.add(e),this},n.prototype.className=function(e){return this.element.className=e,this},n.prototype.opacity=function(e){return this.element.style.opacity=e,this},n.prototype.display=function(e){return this.element.style.display=e,this},n.prototype.hide=function(){return this.element.style.display="none",this},n.prototype.visibility=function(e){return this.element.style.visibility=e,this},n.prototype.text=function(e){return this.element.textContent=e,this},n.prototype.html=function(e){return this.element.innerHTML=e,this},n.prototype.attr=function(e,n){return this.element.setAttribute(e,n),this},n.prototype.style=function(e,n){return this.element.style[e]=n,this},n.prototype.styles=function(e){var n=this.element.style,t=Object.keys(e);return t.forEach(function(t){n[t]=e[t]}),this},n.prototype.appendTo=function(e){return e.appendChild(this.element),this},n.prototype.tap=function(n,t){return e.UI.tap(this.element,n,t),this},n.prototype.append=function(e,t,r){var i=new n(e,t,this.element,this);return r&&r(i),this},n.prototype.createChild=function(e,t){var r=new n(e,t,this.element,this);return r},n.prototype.ctrl=function(n,t){var r=n;return"string"==typeof n&&(r=e.Utils.readProperty(window,n)),r&&new r(this.element,t),this},n}();n.FluentDOM=J}(n=e.UI||(e.UI={}))}(WinJSContrib||(WinJSContrib={}));var __global=this,profiler=__global.msWriteProfilerMark||function(){},WinJSContrib;!function(e){var n;!function(n){var t;!function(n){function t(e,n,t,r,i,o){var a=[];i&&a.push(WinJS.Promise.as(i.apply(e,r)));var s=n.querySelectorAll(".mcn-layout-ctrl");if(s&&s.length){for(var c=0,u=s.length;u>c;){var l=s[c];if(l){var p=l.winControl[t];p&&a.push(l.winControl.pageLifeCycle?l.winControl.pageLifeCycle.steps.layout.promise:WinJS.Promise.as(p.apply(l.winControl,r)))}l&&l.winControl&&l.winControl.pageLifeCycle?(c+=l.querySelectorAll(".mcn-fragment, .mcn-layout-ctrl").length+1,l.winControl.__checkLayout()):c+=1}return WinJS.Promise.join(a).then(function(){return o?WinJS.Promise.as(o.apply(e,r)):void 0})}return o?WinJS.Promise.as(o.apply(e,r)):WinJS.Promise.wrap()}function r(n,t,r,i){function o(n){r&&r.injectToPage&&e.Utils.inject(n,r.injectToPage),n.navigationState={location:t,state:r},i.oncreate&&i.oncreate(n.element,r),i.oninit&&n.pageLifeCycle.steps.init.attach(function(){return i.oninit(n.element,r)}),(n.enterPageAnimation||i.enterPage)&&(n._enterAnimation=n.enterPageAnimation?n.enterPageAnimation:i.enterPage,n.enterPageAnimation=function(){var e=this,n=null;return c.style.opacity="",n=e&&e.getAnimationElements?e.getAnimationElements(!1):e.element,n?e._enterAnimation(n):void 0}),i.onrender&&n.pageLifeCycle.steps.process.attach(function(){i.onrender(n.element,r)}),e.UI.disableAutoResources||n.pageLifeCycle.steps.process.attach(function(){return WinJS.Resources.processAll(c)}),i.closeOldPagePromise&&n.pageLifeCycle.steps.ready.attach(function(){return i.closeOldPagePromise}),n.pageLifeCycle.steps.ready.attach(function(){return i.onready&&i.onready(n.element,r),n.enterPageAnimation?WinJS.Promise.as(n.enterPageAnimation(c,i)):void(n.element.style.opacity="")}),n.pageLifeCycle.steps.ready.promise.then(a,s)}var a,s;i=i||{};var c=document.createElement("div");c.setAttribute("dir",__global.getComputedStyle(c,null).direction),c.style.opacity="0",n.appendChild(c);{var u=new WinJS.Promise(function(e,n){a=e,s=n}),l=i.parented?WinJS.Promise.as(i.parented):null,p=WinJS.UI.Pages.get(t);new p(c,r,o,l)}return u}n.defaultFragmentMixins=[{$:function(e){return $(e,this.element||this._element)},q:function(e){return this.element?this.element.querySelector(e):void 0},qAll:function(e){if(this.element){var n=this.element.querySelectorAll(e);return n&&!n.forEach&&(n=[].slice.call(n)),n}}},{dispose:function(){this._promises&&(this.cancelPromises(),this._promises=null)},promises:{configurable:!0,get:function(){return this._promises||(this._promises=[]),this._promises}},addPromise:function(e){return this.promises.push(e),e},cancelPromises:function(){var e=this;if(e.promises){for(var n=0;n<e.promises.length;n++)e.promises[n]&&e.promises[n].cancel();e.promises=[]}}},{dispose:function(){this._eventTracker&&(this._eventTracker.dispose(),this._eventTracker=null)},eventTracker:{configurable:!0,get:function(){return this._eventTracker||(this._eventTracker=new e.UI.EventTracker),this._eventTracker}}}],n.renderFragment=r;var i=function(){function e(e,n,t){var r=this;this.queue=[],this.isDone=!1,this.stepName=n,this.promise=new WinJS.Promise(function(e,n){r._resolvePromise=e,r._rejectPromise=n}),e.promises.push(this.promise),t&&t.pageLifeCycle&&t.pageLifeCycle.steps[n].attach(function(){return r.promise})}return e.prototype.attach=function(e){return this.queue&&!this.isDone?(this.queue.push(e),this.promise):WinJS.Promise.as(e())},e.prototype.resolve=function(e){function n(){return t._resolvePromise(e),t.promise}var t=this;if(this.isDone=!0,this.queue&&this.queue.length){var r=[];return this.queue.forEach(function(e){r.push(new WinJS.Promise(function(n,t){try{WinJS.Promise.as(e()).then(function(e){n(e)},t)}catch(r){t(r)}}))}),this.queue=null,WinJS.Promise.join(r).then(function(){return n()},this.reject.bind(this))}return this.queue=null,n()},e.prototype.reject=function(e){return this.isDone=!0,this.queue=null,this._rejectPromise(e),WinJS.Promise.wrapError(this.promise)},e}();n.PageLifeCycleStep=i,function(n,r,o,a,s,c,u,l,p,f){"use strict";function d(e){var n=r.document.createElement("a");return n.href=e,n.href}function v(e){return r.document.location.href.toLowerCase()===e.toLowerCase()}function m(e,n){var t=e.prototype.dispose;return e=o.Class.mix(e,n),t&&n.hasOwnProperty("dispose")&&(e.prototype.dispose=function(){n.dispose.apply(this),t.apply(this)}),e}function h(e,n){var t=Object.keys(e.prototype);return t.forEach(function(t){void 0===n.prototype[t]&&(n.prototype[t]=e.prototype[t])}),e}function g(e,n){return n?"function"==typeof n?(e.prototype._attachedConstructor=n,h(e,n)):"object"==typeof n?m(e,n):e:e}function y(n,r,i,o,a,c){i.style.display&&(n.pageLifeCycle.initialDisplay=i.style.display),i.style.display="none";var p=" uri='"+r+"'"+s._getProfilerMarkIdentifier(n.element);u("WinJS.UI.Pages:createPage"+p+",StartTM"),e.UI.WebComponents&&(n.pageLifeCycle.observer=e.UI.WebComponents.watch(n.element));var f=l.timeout().then(function(){return n.load(r)}).then(function(e){if(n._attachedConstructor){var t=new n._attachedConstructor(i,o);i.winControl=t;var r=Object.keys(n);r.forEach(function(e){t[e]=n[e]}),t.pageLifeCycle.page=t,n.pageControl=t,n.dismissed=!0,n=t}return e}),d=f.then(function(e){return l.join({loadResult:e,initResult:n.init(i,o)})}).then(function(e){return n.pageLifeCycle.steps.init.resolve().then(function(){return e})}).then(function(e){return n.render(i,o,e.loadResult)}).then(function(e){return n.rendered(i,o)}).then(function(e){return n.pageLifeCycle.steps.render.resolve()}).then(function(){return e.UI.WebComponents?WinJS.Promise.timeout():void 0});n.elementReady=d.then(function(){return i}),n.renderComplete=d.then(function(){return n.process(i,o)}).then(function(e){return n.pageLifeCycle.steps.process.resolve()}).then(function(){return e.UI.bindMembers(i,n),n.processed(i,o)}).then(function(){return n});var v=function(){a&&a(n),u("WinJS.UI.Pages:createPage"+p+",StopTM")};n.renderComplete.then(v,v),n.layoutComplete=n.renderComplete.then(function(){return c}).then(function(){i.style.display=n.pageLifeCycle.initialDisplay||"";i.getBoundingClientRect();return t(n,i,"pageLayout",[i,o],null,n.pageLayout)}).then(function(){e.UI.bindActions(i,n)}).then(function(e){return n.pageLifeCycle.steps.layout.resolve()}).then(function(){return n}),n.readyComplete=n.layoutComplete.then(function(){n.ready(i,o),n.pageLifeCycle.ended=new Date,n.pageLifeCycle.delta=n.pageLifeCycle.ended-n.pageLifeCycle.created,console.log("navigation to "+r+" took "+n.pageLifeCycle.delta+"ms")}).then(function(e){return n.pageLifeCycle.steps.ready.resolve()}).then(function(){return n}).then(null,function(e){if(n.error)return n.error(e);if(!e||!e._value||"Canceled"!==e._value.name)return WinJS.Promise.wrapError(e)}),n.__checkLayout=function(){var e=this,n=arguments,r=null;return r=e.updateLayout?WinJS.Promise.as(e.updateLayout.apply(e,n)):WinJS.Promise.wrap(),r.then(function(){return t(e,e.element,"updateLayout",n)})}}function w(n,t){
var a=d(n).toLowerCase(),s=k[a];return n=d(n),s||(s=o.Class.define(function(t,o,a,s){var u=this,l=e.Utils.getScopeControl(t);c.addClass(t,"win-disposable"),c.addClass(t,"pagecontrol"),c.addClass(t,"mcn-layout-ctrl"),u.pageLifeCycle={created:new Date,location:n,stop:function(){u.readyComplete.cancel(),u.cancelPromises(),this.observer&&(this.observer.disconnect(),this.observer=null)},steps:{init:new i(u,"init",null),render:new i(u,"render",null),process:new i(u,"process",l),layout:new i(u,"layout",l),ready:new i(u,"ready",l)},initialDisplay:null},this._disposed=!1,this.element=t=t||r.document.createElement("div"),t.msSourceLocation=n,this.uri=n,this.selfhost=v(n),t.winControl=this,u.parentedComplete=s,y(this,n,t,o,a,s)},b),s=o.Class.mix(s,WinJS.UI.DOMEventMixin),e.UI.Pages.defaultFragmentMixins.forEach(function(e){m(s,e)}),k[a]=s),s=g(s,t),s.selfhost=v(n),s}function S(e,t){var i=k[e];return i||(i=w(e)),t&&(i=g(i,t)),i.selfhost&&WinJS.Utilities.ready(function(){T(d(e),r.document.body)},!0),a.viewMap||a._viewMap||"function"==typeof t||n._corePages.define(e,t),i}function T(e,n,t,r){var i=a.get(e),o=new i(n,t,null,r);return o.renderComplete.then(null,function(e){return l.wrapError({error:e,page:o})})}function P(e){var n=k[e];return n||(n=S(e)),n}function C(e){p.clearCache(d(e)),delete k[e.toLowerCase()]}if(r.document&&a){var k=a._viewMap||a.viewMap||{},b={dispose:function(){this._disposed||(this.pageLifeCycle.stop(),this.pageLifeCycle=null,this._disposed=!0,this.readyComplete.cancel(),c.disposeSubTree(this.element),this.element=null)},init:function(){},load:function(e){return this.selfhost?void 0:p.renderCopy(d(e))},process:function(e,n){return f.processAll(e)},processed:function(e,n){},render:function(e,n,t){return this.selfhost||e.appendChild(t),e},rendered:function(e,n){},ready:function(){}};n._corePages={get:a.get,render:a.render,define:a.define,_remove:a._remove,_viewMap:k};var W={define:S,get:P,render:T,_remove:C,_viewMap:k},J=WinJS.UI.Pages;WinJS.Namespace._moduleDefine(n,null,W),J.get=W.get,J.define=W.define,J.render=W.render,J._remove=W._remove,WinJS.UI.HtmlControl=WinJS.Class.define(function(e,n,t){WinJS.UI.Pages.render(n.uri,e,n).then(t,function(){t()})})}}(e.UI.Pages,__global,WinJS,WinJS.UI.Pages,WinJS.Utilities,WinJS.Utilities,profiler,WinJS.Promise,WinJS.UI.Fragments,WinJS.UI)}(t=n.Pages||(n.Pages={}))}(n=e.UI||(e.UI={}))}(WinJSContrib||(WinJSContrib={}));
var WinJSContrib=WinJSContrib||{};WinJSContrib.UI=WinJSContrib.UI||{},WinJSContrib.UI.WebComponents=WinJSContrib.UI.WebComponents||{},function(e){"use strict";function n(e){var t=null,i=e.nodeName,r=[];if("#text"!==e.nodeName){if(e.attributes){var i=e.getAttribute("is");i&&(t=s[i.toUpperCase()])}if(t||"DIV"===e.nodeName||"SPAN"===e.nodeName||(t=s[e.nodeName]),t&&!e.mcnComponent&&r.push(o(e,t)),e.msParentSelectorScope&&e.winControl&&e.winControl.pageLifeCycle&&e.winControl.pageLifeCycle.observer)return;for(var a=0,p=e.childNodes.length;p>a;a++)r.push(n(e.childNodes[a]))}return WinJS.Promise.join(r)}function t(e){var t=null;return WinJSContrib.UI.WebComponents.polyfill&&(t=new MutationObserver(function(e){e.forEach(function(e){if(e.addedNodes.length)for(var t=0,o=e.addedNodes.length;o>t;t++)n(e.addedNodes[t])})}),t.observe(e,{childList:!0,subtree:!0})),t}function o(e,n){e.winControl;e.mcnComponent=!0;var t=WinJSContrib.Utils.getScopeControl(e),o=WinJS.Promise.wrap(),r=function(){i(n.ctor,e)};t&&t.pageLifeCycle?o=t.pageLifeCycle.steps.render.attach(r):r();var a=e.setAttribute;return e.setAttribute=function(n,t){if(e.winControl){a.call(this,n,t);var o=e.winControl.constructor.mcnWebComponent;if(o){var i=o[n.toUpperCase()];if(i){var r={control:e.winControl,name:i.property,data:{}};o.applyAttribute(n,this,r)}}}},o}function i(e,n){n.mcnComponent=!0;var t=e.mcnWebComponent,o={};n.dataset.winOptions&&(o=a(n)),t&&t.optionsCallback&&(o=t.optionsCallback(n,o,scope));var i=new e(n,o);n.winControl=i,t&&t.applyAll(n)}function r(e,n,t){if("function"!=typeof t&&(t=t||{},n.mcnWebComponent={name:e,map:t.map||{},optionsCallback:t.optionsCallback,applyAll:function(e){var n={};for(var t in this.map){var o={control:e.winControl,name:this.map[t].property,data:n};this.applyAttribute(t,e,null,o)}},applyAttribute:function(e,n,t,o){var i=this.map[e.toUpperCase()];if(i){var r=t||n.getAttribute(i.attribute),a=n.winControl;if(r&&a)if(i.type&&"property"!==i.type)"event"===i.type&&WinJSContrib.Utils.resolveValue(n,r,o);else{if(i.resolve)return void WinJSContrib.Utils.applyValue(n,r,a,i.property,o);WinJSContrib.Utils.writeProperty(a,i.property,r)}}}},t.properties&&t.properties.forEach(function(e){e&&(n.mcnWebComponent.map[e.toUpperCase()]={attribute:e,property:e,resolve:!0,type:"property"})}),t.events&&t.events.forEach(function(e){e&&(n.mcnWebComponent.map[e.toUpperCase()]={attribute:e,property:e,resolve:!0,type:"event"})}),t.controls))for(var o in t.controls){var i=t.controls[o],r=i.mcnWebComponent;for(var a in r.map){var s=o+"."+a,p=r.map[a];n.mcnWebComponent.map[s.toUpperCase()]={attribute:o+"."+p.attribute,property:o+"."+p.property,resolve:p.resolve}}}}function a(e){return WinJS.UI.optionsParser(e.dataset.winOptions,window,{select:WinJS.Utilities.markSupportedForProcessing(function(n){var t=WinJSContrib.Utils.getScopeControl(e);return t?t.element.querySelector(n):document.querySelector(n)})})}var s={};WinJSContrib.UI.WebComponents.registered=s,WinJSContrib.UI.WebComponents.polyfill=!1,!e.document.registerElement&&e.MutationObserver&&(WinJSContrib.UI.WebComponents.polyfill=!0),WinJSContrib.UI.WebComponents.processAll=function(e){},WinJSContrib.UI.WebComponents.polyfill&&(WinJSContrib.UI.WebComponents.processAll=n),WinJSContrib.UI.WebComponents.watch=t,WinJSContrib.UI.WebComponents.register=function(n,t,o,a){var p=s[n.toUpperCase()];if(p&&!a)throw"component "+n+" already exists";if(r(n,t,o),WinJSContrib.UI.WebComponents.polyfill)e.document.createElement(n),s[n.toUpperCase()]={ctor:t};else if(e.document.registerElement){var l=Object.create(HTMLElement.prototype);l.createdCallback=function(){},l.attachedCallback=function(){var e=this,n=WinJSContrib.Utils.getScopeControl(e),o=function(){i(t,e)};n&&n.pageLifeCycle?n.pageLifeCycle.steps.render.attach(o):o()},l.attributeChangedCallback=function(e,n,t){var o=this;if(o.winControl){var i=o.winControl.constructor.mcnWebComponent;if(i){var r=i.map[e.toUpperCase()];r&&i.applyAttribute(e,o,t,{control:o.winControl,name:r.property,data:{}})}}},e.document.registerElement(n,{prototype:l})}},WinJS.Binding&&WinJS.Binding.Template&&WinJSContrib.UI.WebComponents.register("win-template",WinJS.Binding.Template,{properties:["extractChild"]}),WinJS.UI&&WinJS.UI.AppBar&&WinJSContrib.UI.WebComponents.register("win-appbar",WinJS.UI.AppBar,{properties:["closedDisplayMode","disabled","hidden","layout","placement","sticky","commands","onafterhide","onaftershow","onbeforehide","onbeforeshow"],events:["afterhide","aftershow","beforehide","beforeshow"]}),WinJS.UI&&WinJS.UI.AutoSuggestBox&&WinJSContrib.UI.WebComponents.register("win-autosuggestbox",WinJS.UI.AutoSuggestBox,{properties:["chooseSuggestionOnEnter","disabled","onquerychanged","onquerysubmitted","onresultsuggestionchosen","onsuggestionsrequested","placeholderText","queryText","searchHistoryContext","searchHistoryDisabled"],events:["querychanged","querysubmitted","resultsuggestionchosen","suggestionsrequested"]}),WinJS.UI&&WinJS.UI.BackButton&&WinJSContrib.UI.WebComponents.register("win-backbutton",WinJS.UI.BackButton),WinJS.UI&&WinJS.UI.ContentDialog&&WinJSContrib.UI.WebComponents.register("win-contentdialog",WinJS.UI.ContentDialog,{properties:["hidden","primaryCommandDisabled","primaryCommandText","secondaryCommandDisabled","secondaryCommandText","title","onafterhide","onaftershow","onbeforehide","onbeforeshow"],events:["afterhide","aftershow","beforehide","beforeshow"]}),WinJS.UI&&WinJS.UI.DatePicker&&WinJSContrib.UI.WebComponents.register("win-datepicker",WinJS.UI.DatePicker,{properties:["calendar","datePattern","disabled","maxYear","minYear","monthPattern","yearPattern","onchange","current"],events:["change"]}),WinJS.UI&&WinJS.UI.FlipView&&WinJSContrib.UI.WebComponents.register("win-flipview",WinJS.UI.FlipView,{properties:["currentPage","orientation","itemTemplate","itemDataSource","itemSpacing","ondatasourcecountchanged","onpagevisibilitychanged","onpageselected","onpagecompleted"],events:["datasourcecountchanged","pagevisibilitychanged","pageselected","pagecompleted"]}),WinJS.UI&&WinJS.UI.Flyout&&WinJSContrib.UI.WebComponents.register("win-flyout",WinJS.UI.Flyout,{properties:["alignment","anchor","disabled","hidden","placement","onafterhide","onaftershow","onbeforehide","onbeforeshow"],events:["afterhide","aftershow","beforehide","beforeshow"]}),WinJS.UI&&WinJS.UI.Hub&&WinJSContrib.UI.WebComponents.register("win-hub",WinJS.UI.Hub,{properties:["headerTemplate","indexOfFirstVisible","indexOfLastVisible","loadingState","oncontentanimating","onheaderinvoked","onloadingstatechanged","orientation","scrollPosition","sectionOnScreen","sections","zoomableView"],events:["contentanimating","headerinvoked","loadingstatechanged"]}),WinJS.UI&&WinJS.UI.HubSection&&WinJSContrib.UI.WebComponents.register("win-hubsection",WinJS.UI.HubSection,{properties:["contentElement","header","isHeaderStatic"]}),WinJS.UI&&WinJS.UI.ItemContainer&&WinJSContrib.UI.WebComponents.register("win-itemcontainer",WinJS.UI.ItemContainer,{properties:["draggable","oninvoked","onselectionchanged","onselectionchanging","selected","selectionDisabled","swipeBehavior","swipeOrientation","tapBehavior"],events:["invoked","selectionchanged","selectionchanging"]}),WinJS.UI&&WinJS.UI.ListView&&WinJSContrib.UI.WebComponents.register("win-listview",WinJS.UI.ListView,{properties:["itemTemplate","itemDataSource","itemsDraggable","itemsReorderable","oniteminvoked","groupHeaderTemplate","groupDataSource","swipeBehavior","selectBehavior","tapBehavior","header","footer"],events:["iteminvoked"]}),WinJS.UI&&WinJS.UI.Menu&&WinJSContrib.UI.WebComponents.register("win-menu",WinJS.UI.Menu,{properties:["alignment","anchor","commands","disabled","hidden","placement","onafterhide","onaftershow","onbeforehide","onbeforeshow"],events:["afterhide","aftershow","beforehide","beforeshow"]}),WinJS.UI&&WinJS.UI.Pivot&&WinJSContrib.UI.WebComponents.register("win-pivot",WinJS.UI.Pivot,{properties:["items","locked","onitemanimationend","onitemanimationstart","onselectionchanged","selectedIndex","selectedItem","title"],events:["itemanimationend","itemanimationstart","selectionchanged"]}),WinJS.UI&&WinJS.UI.PivotItem&&WinJSContrib.UI.WebComponents.register("win-pivotitem",WinJS.UI.PivotItem,{properties:["contentElement","header"]}),WinJS.UI&&WinJS.UI.Rating&&WinJSContrib.UI.WebComponents.register("win-rating",WinJS.UI.Rating,{properties:["averageRating","disabled","enableClear","maxRating","oncancel","onchange","onpreviewchange","tooltipStrings","userRating"],events:["cancel","change","previewchange"]}),WinJS.UI&&WinJS.UI.Repeater&&WinJSContrib.UI.WebComponents.register("win-repeater",WinJS.UI.Repeater,{properties:["data","length","onitemchanged","onitemchanging","oniteminserted","oniteminserting","onitemmoved","onitemmoving","onitemremoved","onitemremoving","onitemsloaded","onitemsreloaded","onitemsreloading","template"],events:["itemchanged","itemchanging","iteminserted","iteminserting","itemmoved","itemmoving","itemremoved","itemremoving","itemsloaded","itemsreloaded","itemsreloading"]}),WinJS.UI&&WinJS.UI.SearchBox&&WinJSContrib.UI.WebComponents.register("win-searchbox",WinJS.UI.SearchBox,{properties:["chooseSuggestionOnEnter","disabled","focusOnKeyboardInput","onquerychanged","onquerysubmitted","onresultsuggestionchosen","onsuggestionsrequested","placeholderText","queryText","searchHistoryContext","searchHistoryDisabled"],events:["querychanged","querysubmitted","resultsuggestionchosen","suggestionsrequested"]}),WinJS.UI&&WinJS.UI.SemanticZoom&&WinJSContrib.UI.WebComponents.register("win-semanticzoom",WinJS.UI.SemanticZoom,{properties:["enableButton","locked","onzoomchanged","zoomedInItem","zoomedOut","zoomedOutItem","zoomFactor"],events:["zoomchanged"]}),WinJS.UI&&WinJS.UI.SplitView&&WinJSContrib.UI.WebComponents.register("win-splitview",WinJS.UI.SplitView,{properties:["contentElement","hiddenDisplayMode","paneElement","paneHidden","panePlacement","shownDisplayMode","onafterhide","onaftershow","onbeforehide","onbeforeshow"],events:["afterhide","aftershow","beforehide","beforeshow"]}),WinJS.UI&&WinJS.UI.TimePicker&&WinJSContrib.UI.WebComponents.register("win-timepicker",WinJS.UI.TimePicker,{properties:["onchange","clock","current","disabled","hourPattern","minuteIncrement","minutePattern","periodPattern"],events:["onchange"]}),WinJS.UI&&WinJS.UI.ToggleSwitch&&WinJSContrib.UI.WebComponents.register("win-toggleswitch",WinJS.UI.ToggleSwitch,{properties:["onchange","checked","disabled","labelOff","labelOn","title"],events:["onchange"]}),WinJS.UI&&WinJS.UI.ToolBar&&WinJSContrib.UI.WebComponents.register("win-toolbar",WinJS.UI.ToolBar),WinJS.UI&&WinJS.UI.Tooltip&&WinJSContrib.UI.WebComponents.register("win-tooltip",WinJS.UI.Tooltip,{properties:["contentElement","extraClass","infotip","innerHTML","onbeforeclose","onbeforeopen","onclosed","onopened","placement"],events:["beforeclose","beforeopen","closed","opened"]}),WinJS.UI&&WinJS.UI.ViewBox&&WinJSContrib.UI.WebComponents.register("win-viewbox",WinJS.UI.ViewBox)}(this);
var WinJSContrib;!function(t){var n;!function(n){function e(t){if(t.detail.kind===Windows.ApplicationModel.Activation.ActivationKind.protocol&&t.detail.uri){var n={action:void 0},e={},i=t.detail.uri.query;return"?"==i[0]&&(i=i.substr(1)),i&&i.split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),n.protocol={action:t.detail.uri.host,args:e},n}}function i(){var t=Windows.Networking.Connectivity.NetworkConnectivityLevel,n=Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();if(null!==n){var e=n.getNetworkConnectivityLevel();return e===t.constrainedInternetAccess||e===t.internetAccess}return!1}function o(){var t=Windows.Networking.Connectivity.NetworkConnectivityLevel,n=Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();if(null!==n){var e=n.getNetworkConnectivityLevel();return e===t.internetAccess}return!1}function a(n){var e=function(e){n(t.WinRT.hasInternetAccess())},i=Windows.Networking.Connectivity.NetworkInformation;return i.addEventListener("networkstatuschanged",e),function(){i.removeEventListener("networkstatuschanged",e)}}n.readProtocol=e,n.isConnected=i,n.hasInternetAccess=o,n.onInternetStatusChanged=a}(n=t.WinRT||(t.WinRT={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(t){var n;!function(n){function e(t){var n=window;if(t){if(n.Windows){var e=new Windows.UI.Popups.MessageDialog(t.content);return t.title&&(e.title=t.title),t.commands&&t.commands.forEach&&t.commands.forEach(function(t,n){var i=new Windows.UI.Popups.UICommand;t.id&&(i.id=t.id),i.label=t.label,t.callback&&(i.invoked=t.callback),e.commands.append(i),t.isDefault&&(e.defaultCommandIndex=n)}),e.showAsync()}return new WinJS.Promise(function(e,i){var o="";t.title&&(o=t.title);var a=[];t.commands&&t.commands.forEach?t.commands.forEach(function(t,n){a.push(t.label)}):a=["Ok"],n.navigator&&n.navigator.notification&&n.navigator.notification.confirm?n.navigator.notification.confirm(t.content,function(n){if(t.commands&&t.commands[n-1]&&t.commands[n-1].callback){var i=t.commands[n-1].callback();i&&i.then?i.then(function(){e(!0)}):e(!0)}else e(0!=n?!0:!1)},o,a):e(window.confirm(o)?!0:!1)})}return WinJS.Promise.wrapError("you must specify commands as an array of objects with properties text and callback such as {text: '', callback: function(c){}}")}function i(n,e){return t.Alerts.messageBox({title:n,content:e})}function o(n,e,i,o){return new WinJS.Promise(function(a,r){t.Alerts.messageBox({title:n,content:e,commands:[{label:i,callback:function(t){a(!0)},isDefault:!0},{label:o,callback:function(t){a(!1)}}]})})}function a(t){if(!Windows)throw"No notification plugin found";var n=Windows.UI.Notifications,e=t.template||(t.picture?n.ToastTemplateType.toastImageAndText01:n.ToastTemplateType.toastText01),i=n.ToastNotificationManager.getTemplateContent(e),o=i.getElementsByTagName("text"),a=i.getElementsByTagName("image");if(t.launch){var r=i.getElementsByTagName("toast");r[0].setAttribute("launch",JSON.stringify(t.launch))}o[0].appendChild(i.createTextNode(t.text)),t.text2&&o.length>1&&o[1].appendChild(i.createTextNode(t.text2)),t.text3&&o.length>1&&o[2].appendChild(i.createTextNode(t.text3)),t.picture&&a[0].setAttribute("src",t.picture);var c=new n.ToastNotification(i),s=n.ToastNotificationManager.createToastNotifier();s.show(c)}function r(n,e){t.Alerts.toastNotification({text:n,picture:e})}n.messageBox=e,n.message=i,n.confirm=o,n.toastNotification=a,n.toast=r}(n=t.Alerts||(t.Alerts={}))}(WinJSContrib||(WinJSContrib={}));
var WinJSContrib=WinJSContrib||{};WinJSContrib.UPnP=WinJSContrib.UPnP||{},function(e){function t(e,t){return e.indexOf(t)==e.length-t.length}function n(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3==e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()){for(var s=0,o=0;o<e.childNodes.length;o++){var a=e.childNodes.item(o),u=a.nodeName;if("undefined"==typeof t[u]){var p=n(a),c=u.indexOf(":");if(c>0)var l=u.substr(c+1,u.length-c-1);l&&!t[l]?t[l]=p:t[u]=p,s++}else{if("undefined"==typeof t[u].push){var y=t[u];t[u]=[],t[u].push(y)}t[u].push(n(a)),s++}}t["#text"]&&"string"==typeof t["#text"]&&(t["#text"]=t["#text"].trim()),1==s&&t["#text"]&&"string"==typeof t["#text"]&&(t=t["#text"])}for(var h in t["@attributes"])t[h]||(t[h]=t["@attributes"][h]);return t}function r(e){return(new DOMParser).parseFromString(e,"text/xml")}function i(e){for(var t="",n=!0,r=32;r>0;){r-=4;var i=e>>r&15;n&&0==i||(n=!1,t+=S[i])}return""==t?"0":t}function s(e,t,n){for(var r=e,i=e.length;t>i;i++)r=n+r;return r}function o(e){return e=e.toString(16),1==e.length&&(e="0"+e),e="%"+e,unescape(e)}function a(e){e=e.toUpperCase().replace(new RegExp("s/[^0-9A-Z]//g"));for(var t="",n="",r=0;r<e.length;r++)n+=e.charAt(r),2==n.length&&(t+=o(parseInt(n,16)),n="");return t}function u(e){for(var t="",n=0;n<e.length;n++)t+=s(i(255&e.charCodeAt(n)),2,"0");return t}function p(e){return e.replace(/^([+-])?(\d+).?(\d*)[eE]([-+]?\d+)$/,function(e,t,n,r,i){var s=0>+i,o=n.length+ +i,e=(s?n:r).length,i=(i=Math.abs(i))>=e?i-e+s:0,a=new Array(i+1).join("0"),u=n+r;return(t||"")+(s?u=a+u:u+=a).substr(0,o+=s?a.length:0)+(o<u.length?"."+u.substr(o):"")})}WinJSContrib.UPnP.deviceTypes={ContentDirectory1:"urn:schemas-upnp-org:service:ContentDirectory:1",ContentDirectory2:"urn:schemas-upnp-org:service:ContentDirectory:2",ContentDirectory3:"urn:schemas-upnp-org:service:ContentDirectory:3",ContentDirectory4:"urn:schemas-upnp-org:service:ContentDirectory:4",MediaRenderer1:"urn:schemas-upnp-org:device:MediaRenderer:1",MediaRenderer2:"urn:schemas-upnp-org:device:MediaRenderer:2",MediaRenderer3:"urn:schemas-upnp-org:device:MediaRenderer:3",MediaRenderer4:"urn:schemas-upnp-org:device:MediaRenderer:4",MediaServer1:"urn:schemas-upnp-org:device:MediaServer:1",MediaServer2:"urn:schemas-upnp-org:device:MediaServer:2",MediaServer3:"urn:schemas-upnp-org:device:MediaServer:3",MediaServer4:"urn:schemas-upnp-org:device:MediaServer:4",AVTransport1:"urn:schemas-upnp-org:service:AVTransport:1",AVTransport2:"urn:schemas-upnp-org:service:AVTransport:2",ConnectionManager1:"urn:schemas-upnp-org:service:ConnectionManager:1",ConnectionManager2:"urn:schemas-upnp-org:service:ConnectionManager:2",ConnectionManager3:"urn:schemas-upnp-org:service:ConnectionManager:3"},WinJSContrib.UPnP.devicesDiscovery=function(e,t,r){function i(e){var t=u.filter(function(t){return e==t.deviceDescriptionUrl});return t.length>0}function s(e){return new WinJS.Promise(function(s,a){function p(e){try{l&&l.close()}catch(t){}s(u)}function c(e){try{l&&l.close()}catch(t){}a(e)}var l=new Windows.Networking.Sockets.DatagramSocket;l.onmessagereceived=function(e){var r=e.getDataReader(),s=r.unconsumedBufferLength,o=r.readString(s),a=!1;if(o){var p=o.split("\n");p.forEach(function(e){if(!a&&0==e.toLowerCase().indexOf("location:")){var r=e.substr(9,e.length-9);a=!0,i(r)||WinJS.xhr({url:r}).then(function(e){var s=n(e.responseXML),o=s.root.device;o.deviceDescriptionUrl=r,o.rootUrl=r.substr(0,r.indexOf("/",8)),i(r)||u.push(new WinJSContrib.UPnP.UPnPDevice(o)),t&&t(o,r)},function(e){console.error("calling device failed"),console.error(e)})}})}},l.getOutputStreamAsync(o,"1900").then(function(t){var n="M-SEARCH * HTTP/1.1\r\nHOST: 239.255.255.250:1900\r\nST:"+(e||"upnp:rootdevice")+'\r\nMAN:"ssdp:discover"\r\nMX:3\r\n\r\n',r=new Windows.Storage.Streams.DataWriter(t);return r.unicodeEncoding=Windows.Storage.Streams.UnicodeEncoding.Utf8,r.writeString(n),r.storeAsync()}).then(function(){return WinJS.Promise.timeout(r||2e4)}).then(p,c)}).then(function(e){p.hasError=!1},function(e){p.hasError=!0,p.error=e})}var o;try{o=new Windows.Networking.HostName("239.255.255.250")}catch(a){return void error({message:"Invalid host name."})}var u=new WinJS.Binding.List,p={devices:u,hasError:null,promise:null},c=[];if(e&&"string"!=typeof e){if(e&&"string"!=typeof e&&e.length)for(var l=0;l<e.length;l++)c.push(s(e[l]))}else c.push(s(e));return p.promise=WinJS.Promise.join(c),p},WinJSContrib.UPnP.getContentType=function(e,n){var r=e.toLowerCase();return"mp3"==n||t(r,".mp3")?"audio/mp3":"mp4"==n||t(r,".mp4")?"video/mp4":"avi"==n||t(r,".avi")?"video/avi":"mkv"==n||t(r,".mkv")?"video/x-matroska":void 0},WinJSContrib.UPnP.UPnPDevice=function(e){for(var t in e)this[t]=e[t]},WinJSContrib.UPnP.UPnPDevice.prototype.getService=function(e){var t=this,n=null;return"string"==typeof e&&(e=[e]),t.serviceList&&t.serviceList.service&&(n=t.serviceList.service.filter(function(t){return e.indexOf(t.serviceType)>=0})[0],!n&&t.deviceList&&t.deviceList.device.forEach(function(t){var r=t.serviceList.service.filter(function(t){return e.indexOf(t.serviceType)>=0})[0];r&&(n=r)})),n&&(n.rootUrl=t.rootUrl,n.url=t.rootUrl+n.controlURL),n},WinJSContrib.UPnP.UPnPDevice.prototype.getAVTransport=function(){var e=this.getService([WinJSContrib.UPnP.deviceTypes.AVTransport1,WinJSContrib.UPnP.deviceTypes.AVTransport2]);return e?new WinJSContrib.UPnP.UPnPAVTransport(e):void 0},WinJSContrib.UPnP.UPnPDevice.prototype.getContentDirectory=function(){var e=this.getService([WinJSContrib.UPnP.deviceTypes.ContentDirectory1,WinJSContrib.UPnP.deviceTypes.ContentDirectory2,WinJSContrib.UPnP.deviceTypes.ContentDirectory3,WinJSContrib.UPnP.deviceTypes.ContentDirectory4]);return e?new WinJSContrib.UPnP.UPnPContentDirectory(e):void 0},WinJSContrib.UPnP.UPnPDevice.prototype.getConnectionManager=function(){var e=this.getService([WinJSContrib.UPnP.deviceTypes.ConnectionManager1,WinJSContrib.UPnP.deviceTypes.ConnectionManager2,WinJSContrib.UPnP.deviceTypes.ConnectionManager3]);return e?new WinJSContrib.UPnP.UPnPConnectionManager(e):void 0},WinJSContrib.UPnP.UPnPService=function(e,t){this.options=t||{debug:!1},this.svc=e,this.action=function(){},this.svcType=this.svc.serviceType,this.svcUrl=this.svc.url;var n=this;this.action=function(e,t,r){return new WinJS.Promise(function(i,s){r||"[object Function]"!=Object.prototype.toString.call(t)||(r=t,t={}),r&&"[object Function]"===Object.prototype.toString.call(r)||(r=function(e,t){});var o=n.createRequest(n.svcType,e,t);n.sendRequest(n.svcType,e,n.svcUrl,o,function(o,a){return null!==o?(r.apply(n,[o,null]),void s(o)):void n.handleResponse(e,a.responseXML||"",t,function(e,t){r.apply(n,[e,t]),null!==e?s(e):i(t)})})})}},WinJSContrib.UPnP.UPnPService.prototype.constructor=WinJSContrib.UPnP.UPnPService,WinJSContrib.UPnP.UPnPService.prototype.requestTemplate='<?xml version="1.0" encoding="utf-8"?>\n<s:Envelope s:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">\n	<s:Body>\n		<u:{ACTION_NAME} xmlns:u="{ACTION_TYPE}">\n{ACTION_VARS}		</u:{ACTION_NAME}>\n	</s:Body>\n</s:Envelope>\n',WinJSContrib.UPnP.UPnPService.prototype.types={i1:function(e,t,n){var r=new Int8Array(1);return r[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t)},i2:function(e,t,n){var r=new Int16Array(1);return r[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t)},i4:function(e,t,n){var r=new Int32Array(1);return r[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t)},ui1:function(e,t,n){var r=new Uint8Array(1);return r[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t)},ui2:function(e,t,n){var r=new Uint16Array(1);return r[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t)},ui4:function(e,t,n){var r=new Uint32Array(1);return r[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t)},"int":function(e,t,n){return void 0===e||null===e||isNaN(e)?e=0:"number"!=typeof e&&(e=e===!0?1:parseInt(e+"",10)),n||(e=p(e+"")),isNaN(e)&&(e=0),WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},r4:function(e,t,n){var r=new Float32Array(1);return r[0]=e,n?WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t):r[0]?p(r[0]+""):"0"},r8:function(e,t,n){var r=new Float64Array(1);return r[0]=e,n?WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t):r[0]?p(r[0]+""):"0"},number:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.r8(e,t,n)},fixed_14_4:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types["float"](e,t,n)},"float":function(e,t,n){var r=parseFloat(e);return n?WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r,t):r?p(r+""):"0"},"char":function(e,t,n){return e=void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp?"":e===!1||e===!0||"true"==e||"yes"==e||"false"==e||"no"==e?e===!0||"true"==e||"yes"==e?"1":"0":e.toString(),e.length>0?(e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t),e.charAt(0)):e},string:function(e,t,n){return(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),e+="",e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},xmlObj:function(e,t,i){(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),e+="",e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t);try{for(var s=e.indexOf("&");s>0;){var o=e.indexOf(";",s);(0>o||o-s>5)&&(e=e.substr(0,s)+"&amp;"+e.substr(s+1,e.length-(s+1))),s=e.indexOf("&",s+1)}var a=r(e);return n(a)}catch(u){return console.error(u),e}},date:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},dateTime:function(e,t,n){return n?"[object String]"==Object.prototype.toString.call(e)?(e=new Date(b(e)),isNaN(e)&&(e="")):"[object Date]"==Object.prototype.toString.call(e)&&(e=e):"[object String]"==Object.prototype.toString.call(e)?e+="":"[object Date]"==Object.prototype.toString.call(e)&&(e="Invalid Date"==e.toString()?"":e.toISOString()),e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},dateTime_tz:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},time:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},time_tz:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},"boolean":function(e,t,n){return e="false"==e||"f"==e||"no"==e||"n"==e||e instanceof RegExp||0>=e||!e?n?!1:"0":n?!0:"1"},bin_base64:function(e,t,n){return(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),(e===!0||e===!1)&&(e=e===!0?"1":"0"),e=n?g(e+""):P(e+""),WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},bin_hex:function(e,t,n){return(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),(e===!0||e===!1)&&(e=e===!0?"1":"0"),e=n?a(e+""):u(e+""),WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},uri:function(e,t,n){return n&&(e=decodeURI(e+"")),WinJSContrib.UPnP.UPnPService.prototype.types.string(e,t)},uuid:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.string(e,t)}};for(var c in WinJSContrib.UPnP.UPnPService.prototype.types)WinJSContrib.UPnP.UPnPService.prototype.types[c]._name=c,WinJSContrib.UPnP.UPnPService.prototype.types[c].toString=function(){return this._name};WinJSContrib.UPnP.UPnPService.prototype.createRequest=function(e,t,n){n=this.formatParameters(n),this.debugLog("Creating UPnP XML Control Message for ["+t+"] with parameters:"),this.debugLog(JSON?JSON.stringify(n):null);var r=this.requestTemplate.replace(/\{ACTION_TYPE\}/g,U(C(e)));r=r.replace(/\{ACTION_NAME\}/g,U(C(t)));var i=n.request,s="";if(i)for(var o in i){if(void 0!==i[o].type&&null!==i[o].type){var a=this.types[i[o].type];a&&(i[o].value=a(i[o].value,i[o].allowedValueList,!1))}(null===i[o].value||void 0===i[o].value)&&(i[o].value=""),s+="			<"+o+">"+U(C(i[o].value+""))+"</"+o+">\n"}return r=r.replace(/\{ACTION_VARS\}/g,s),this.debugLog("[REQUEST] (SOAPAction: "+e+"#"+t+") "+r),r},WinJSContrib.UPnP.UPnPService.prototype.sendRequest=function(e,t,n,i,s){var o='"'+e.replace(/[\"\#]/g,"")+"#"+t.replace(/[\"\#]/g,"")+'"',a=new Windows.Web.Http.HttpClient,u=new Windows.Foundation.Uri(n),p=new Windows.Web.Http.HttpRequestMessage(Windows.Web.Http.HttpMethod.post,u);return p.headers.append("SOAPACTION",o),p.content=new Windows.Web.Http.HttpStringContent(i,Windows.Storage.Streams.UnicodeEncoding.utf8,"text/xml"),a.sendRequestAsync(p).then(function(e){e.content.readAsStringAsync().then(function(e){var t=r(e),n={status:200,responseText:e,responseXML:t};s.apply(this,[null,n])})},function(e){s.apply(void 0,[new l("XmlHttpRequest failed"),null])}),this},WinJSContrib.UPnP.UPnPService.prototype.handleResponse=function(e,t,n,r){n=this.formatParameters(n);var i=n.response,s={},o=t.getElementsByTagName?t.getElementsByTagName(e+"Response"):null;if((null===o||o.length<=0)&&(o=t.getElementsByTagName?t.getElementsByTagName("u:"+e+"Response"):null),null!==o&&o.length>0){var a=o[0].childNodes;if(a&&a.length>0)for(var u=0,p=a.length;p>u;u++){var c=a[u].nodeName,l=a[u].firstChild?C(m(a[u].firstChild.nodeValue+"")):null;if(i[c]&&void 0!==i[c].type&&null!==i[c].type){var y=this.types[i[c].type];y&&(l=y(l,i[c].allowedValueList||null,!0))}s[c]=void 0!==l&&null!==l?l:""}}return r.apply(void 0,[null,{data:s}]),this},WinJSContrib.UPnP.UPnPService.prototype.formatParameter=function(e){var t={};return void 0!==e.type||void 0!==e.value||void 0!==e.allowedValueList?(t=e,void 0!==e.allowedValueList&&"array"!=typeof e.allowedValueList&&(e.allowedValueList=[])):t={value:e},void 0!==t.type&&null!==t.type&&(this.types[t.type+""]||delete t.type),t},WinJSContrib.UPnP.UPnPService.prototype.formatParameters=function(e){(void 0===e||null===e)&&(e={}),e.request||(e.request={}),e.response||(e.response={});for(var t in e)if("request"===t||"response"===t)for(var n in e[t])e[t][n]=this.formatParameter(e[t][n]);else e.request[t]=this.formatParameter(e[t]),delete e[t];return e},WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues=function(e,t){if(e&&t&&"[object Array]"==Object.prototype.toString.call(t)){for(var n=!1,r=0,i=t.length;i>r;r++)if(e==t[r]){n=!0;break}if(!n)return""}return e},WinJSContrib.UPnP.UPnPService.prototype.debugLog=function(e,t){this.options&&this.options.debug&&console[t||"log"]("Plug.UPnP: "+e)};var l=function(e){return{description:e}},y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[e.charAt(n)]=n;return t}(y),v=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[y.charAt(n>>>18),y.charAt(n>>>12&63),t>=2?"=":y.charAt(n>>>6&63),t>=1?"=":y.charAt(63&n)];return r.join("")},d=function(e){var t=e.length,n=t%4,r=(t>0?h[e.charAt(0)]<<18:0)|(t>1?h[e.charAt(1)]<<12:0)|(t>2?h[e.charAt(2)]<<6:0)|(t>3?h[e.charAt(3)]:0),i=[String.fromCharCode(r>>>16),String.fromCharCode(r>>>8&255),String.fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},P=e.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,v)},g=e.atob||function(e){return e.replace(/[\s\S]{1,4}/g,d)},f="0123456789abcdef",S=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[n]=e.charAt(n);return t}(f),C=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},U=function(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},m=function(e){return e.replace(/\&quot;/g,'"').replace(/\&\#39;/g,"'").replace(/\&gt;/g,">").replace(/\&lt;/g,"<").replace(/\&amp;/g,"&")},b=function(e){var t,n,r=0,i=[1,4,5,6,7,10,11];if("string"!=typeof e&&(e+=""),n=/^((\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:[T\s]?(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{4}))?)?$/.exec(e)){n=n.slice(1,n.length);for(var s,o=0;s=i[o];++o)n[s]=+n[s]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*(n[10]/100-n[10]/100%1)+n[10]%100,"+"===n[9]&&(r=0-r)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else t=Date.parse?Date.parse(e):0/0;return t},I={"urn:schemas-upnp-org:service:ContentDirectory:1":!0,"urn:schemas-upnp-org:service:ContentDirectory:2":!0,"urn:schemas-upnp-org:service:ContentDirectory:3":!0,"urn:schemas-upnp-org:service:ContentDirectory:4":!0};WinJSContrib.UPnP.UPnPContentDirectory=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,I[this.upnpType]?(this.getSystemUpdateId=function(e){return this.action("GetSystemUpdateID",{request:{},response:{Id:{type:this.types.ui4}}},e)},this.getSearchCapabilities=function(e){return this.action("GetSearchCapabilities",{request:{},response:{SearchCaps:{type:this.types.string}}},e)},this.getSortCapabilities=function(e){return this.action("GetSortCapabilities",{request:{},response:{SortCaps:{type:this.types.string}}},e)},this.browse=function(e,t,n,r,i,s,o){return this.action("Browse",{request:{ObjectID:{value:e||"0",type:this.types.string},BrowseFlag:{value:t||"BrowseDirectChildren",type:this.types.string},Filter:{value:n||"*",type:this.types.string},StartingIndex:{value:r||"0",type:this.types.ui4},RequestedCount:{value:i||"0",type:this.types.ui4},SortCriteria:{value:s,type:this.types.string}},response:{Result:{type:this.types.xmlObj},NumberReturned:{type:this.types.ui4},TotalMatches:{type:this.types.ui4},UpdateID:{type:this.types.ui4}}},o)},this.search=function(e,t,n,r,i,s,o){return this.action("Search",{request:{ObjectID:{value:e||"0",type:this.types.string},BrowseFlag:{value:t||"BrowseDirectChildren",type:this.types.string},Filter:{value:n||"*",type:this.types.string},StartingIndex:{value:r||"0",type:this.types.ui4},RequestedCount:{value:i||"0",type:this.types.ui4},SortCriteria:{value:s,type:this.types.string}},response:{Result:{type:this.types.xmlObj},NumberReturned:{type:this.types.ui4},TotalMatches:{type:this.types.ui4},UpdateID:{type:this.types.ui4}}},o)},"urn:schemas-upnp-org:service:ContentDirectory:2"===this.upnpType,"urn:schemas-upnp-org:service:ContentDirectory:3"===this.upnpType,void("urn:schemas-upnp-org:service:ContentDirectory:4"===this.upnpType)):void console.error("Provided service is not a UPnP Media Server Service")},WinJSContrib.UPnP.UPnPContentDirectory.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype);var T={"urn:schemas-upnp-org:service:ConnectionManager:1":!0,"urn:schemas-upnp-org:service:ConnectionManager:2":!0,"urn:schemas-upnp-org:service:ConnectionManager:3":!0};WinJSContrib.UPnP.UPnPConnectionManager=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,T[this.upnpType]?(this.getCurrentConnectionIDs=function(e){return this.action("GetCurrentConnectionIDs",{request:{},response:{ConnectionIDs:{type:this.types.string}}},e)},this.getCurrentConnectionInfo=function(e,t){return this.action("GetCurrentConnectionInfo",{request:{ConnectionID:{value:e,type:this.types.ui4}},response:{RcsID:{type:this.types.i4},AVTransportID:{type:this.types.i4},ProtocolInfo:{type:this.types.string},PeerConnectionManager:{type:this.types.string},PeerConnectionID:{type:this.types.i4},Direction:{type:this.types.string},Status:{type:this.types.string}}},t)},this.getProtocolInfo=function(e){return this.action("GetProtocolInfo",{request:{},response:{Source:{type:this.types.string},Sink:{type:this.types.string}}},e)},void("urn:schemas-upnp-org:service:ConnectionManager:2"===this.upnpType)):void console.error("Provided service is not a UPnP Service")},WinJSContrib.UPnP.UPnPConnectionManager.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype);var V={"urn:schemas-upnp-org:service:AVTransport:1":!0,"urn:schemas-upnp-org:service:AVTransport:2":!0};WinJSContrib.UPnP.UPnPAVTransport=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,V[this.upnpType]?(this.getDeviceCapabilities=function(e,t){return this.action("GetDeviceCapabilities",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{PlayMedia:{type:this.types.string},RecMedia:{type:this.types.string},RecQualityModes:{type:this.types.string}}},t)},this.getMediaInfo=function(e,t){return this.action("GetMediaInfo",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{NrTracks:{type:this.types.ui4},MediaDuration:{type:this.types.string},CurrentURI:{type:this.types.string},CurrentURIMetaData:{type:this.types.string},NextURI:{type:this.types.string},NextURIMetaData:{type:this.types.string},PlayMedium:{type:this.types.string},RecordMedium:{type:this.types.string},WriteStatus:{type:this.types.string}}},t)},this.getPositionInfo=function(e,t){return this.action("GetPositionInfo",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{Track:{type:this.types.ui4},TrackDuration:{type:this.types.string},TrackMetaData:{type:this.types.xmlObj},TrackURI:{type:this.types.string},RelTime:{type:this.types.string},AbsTime:{type:this.types.string},RelCount:{type:this.types.i4},AbsCount:{type:this.types.i4}}},t)},this.getTransportInfo=function(e,t){return this.action("GetTransportInfo",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{CurrentTransportState:{type:this.types.string},CurrentTransportStatus:{type:this.types.string},CurrentSpeed:{type:this.types.string}}},t)},this.getTransportSettings=function(e,t){return this.action("GetTransportSettings",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{PlayMode:{type:this.types.ui4},RecQualityMode:{type:this.types.string}}},t)},this.setAVTransportURI=function(e,t,n,r){return this.action("SetAVTransportURI",{request:{InstanceID:{value:e,type:this.types.ui4},CurrentURI:{value:t,type:this.types.string},CurrentURIMetaData:{value:n,type:this.types.string}},response:{}},r)},this.play=function(e,t,n){return this.action("Play",{request:{InstanceID:{value:e,type:this.types.ui4},Speed:{value:t||"1",type:this.types.string}},response:{}},n)},this.pause=function(e,t){return this.action("Pause",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.stop=function(e,t){return this.action("Stop",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.next=function(e,t){return this.action("Next",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.previous=function(e,t){return this.action("Previous",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.seek=function(e,t,n,r){return this.action("Seek",{request:{InstanceID:{value:e,type:this.types.ui4},Unit:{value:t,type:this.types.string},Target:{value:n,type:this.types.string}},response:{}},r)},void("urn:schemas-upnp-org:service:AVTransport:2"===this.upnpType)):void console.error("Provided service is not a UPnP Media Renderer Service")},WinJSContrib.UPnP.UPnPAVTransport.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype);var D={"urn:schemas-upnp-org:service:RenderingControl:1":!0,"urn:schemas-upnp-org:service:RenderingControl:2":!0,"urn:schemas-upnp-org:service:RenderingControl:3":!0};WinJSContrib.UPnP.UPnPRenderingControl=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,D[this.upnpType]?(this.listPresets=function(e,t){return this.action("ListPresets",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentPresetNameList:{type:this.types.string}}},t)},this.selectPreset=function(e,t,n){return this.action("SelectPreset",{request:{InstanceId:{value:e,type:this.types.ui4},PresetName:{value:t||"FactoryDefaults",type:this.types.string}}},n)},this.getBrightness=function(e,t){return this.action("GetBrightness",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBrightness:{type:this.types.ui2}}},t)},this.setBrightness=function(e,t,n){return this.action("SetBrightness",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredBrightness:{value:t,type:this.types.ui2}}},n)},this.getContrast=function(e,t){return this.action("GetContrast",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentContrast:{type:this.types.ui2}}},t)},this.setContrast=function(e,t,n){return this.action("SetContrast",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredContrast:{value:t,type:this.types.ui2}}},n)},this.getSharpness=function(e,t){return this.action("GetSharpness",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentSharpness:{type:this.types.ui2}}},t)},this.setSharpness=function(e,t,n){return this.action("SetSharpness",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredSharpness:{value:t,type:this.types.ui2}}},n)},this.getRedVideoGain=function(e,t){return this.action("GetRedVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentRedVideoGain:{type:this.types.ui2}}},t)},this.setRedVideoGain=function(e,t,n){return this.action("SetRedVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredRedVideoGain:{value:t,type:this.types.ui2}}},n)},this.getGreenVideoGain=function(e,t){return this.action("GetGreenVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentGreenVideoGain:{type:this.types.ui2}}},t)},this.setGreenVideoGain=function(e,t,n){return this.action("SetGreenVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredGreenVideoGain:{value:t,type:this.types.ui2}}},n)},this.getBlueVideoGain=function(e,t){return this.action("GetBlueVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBlueVideoGain:{type:this.types.ui2}}},t)},this.setBlueVideoGain=function(e,t,n){return this.action("SetBlueVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredBlueVideoGain:{value:t,type:this.types.ui2}}},n)},this.getRedVideoBlackLevel=function(e,t){return this.action("GetRedVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentRedVideoBlackLevel:{type:this.types.ui2}}},t)},this.setRedVideoBlackLevel=function(e,t,n){return this.action("SetRedVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredRedVideoBlackLevel:{value:t,type:this.types.ui2}}},n)},this.getGreenVideoBlackLevel=function(e,t){return this.action("GetGreenVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentGreenVideoBlackLevel:{type:this.types.ui2}}},t)},this.setGreenVideoBlackLevel=function(e,t,n){return this.action("SetGreenVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredGreenVideoBlackLevel:{value:t,type:this.types.ui2}}},n)},this.getBlueVideoBlackLevel=function(e,t){return this.action("GetBlueVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBlueVideoBlackLevel:{type:this.types.ui2}}},t)},this.setBlueVideoBlackLevel=function(e,t,n){return this.action("SetBlueVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredBlueVideoBlackLevel:{value:t,type:this.types.ui2}}},n)},this.getBlueVideoBlackLevel=function(e,t){return this.action("GetBlueVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBlueVideoBlackLevel:{type:this.types.ui2}}},t)},this.getColorTemperature=function(e,t){return this.action("GetColorTemperature",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentColorTemperature:{type:this.types.ui2}}},t)},this.setColorTemperature=function(e,t,n){return this.action("SetColorTemperature",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredColorTemperature:{value:t,type:this.types.ui2}}},n)},this.getHorizontalKeystone=function(e,t){return this.action("GetHorizontalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentHorizontalKeystone:{type:this.types.i2}}},t)},this.setHorizontalKeystone=function(e,t,n){return this.action("SetHorizontalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredHorizontalKeystone:{value:t,type:this.types.i2}}},n)},this.getVerticalKeystone=function(e,t){return this.action("GetVerticalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentVerticalKeystone:{type:this.types.i2}}},t)},this.setVerticalKeystone=function(e,t,n){return this.action("SetVerticalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredVerticalKeystone:{value:t,type:this.types.i2}}},n)},this.getMute=function(e,t,n){return this.action("GetMute",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentMute:{type:this.types["boolean"]}}},n)},this.setMute=function(e,t,n,r){return this.action("SetMute",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredMute:{value:n,type:this.types["boolean"]}}},r)},this.getVolume=function(e,t,n){return this.action("GetVolume",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentVolume:{type:this.types.ui2}}},n)},this.setVolume=function(e,t,n,r){return this.action("SetVolume",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredVolume:{value:n,type:this.types.ui2}}},r)},this.getVolumeDB=function(e,t,n){return this.action("GetVolumeDB",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentVolume:{type:this.types.i2}}},n)},this.setVolumeDB=function(e,t,n,r){return this.action("SetVolumeDB",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredVolume:{value:n,type:this.types.i2}}},r)},this.getVolumeDBRange=function(e,t,n){return this.action("GetVolumeDBRange",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{MinValue:{type:this.types.i2},MaxValue:{type:this.types.i2}}},n)},this.getLoudness=function(e,t,n){return this.action("GetLoudness",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentLoudness:{type:this.types["boolean"]}}},n)},this.setLoudness=function(e,t,n,r){return this.action("SetLoudness",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredLoudness:{value:n,type:this.types["boolean"]}}},r)},("urn:schemas-upnp-org:service:RenderingControl:2"===this.upnpType||"urn:schemas-upnp-org:service:RenderingControl:3"===this.upnpType)&&(this.getStateVariables=function(e,t,n){return this.action("GetStateVariables",{request:{InstanceId:{value:e,type:this.types.ui4},StateVariableList:{value:t,type:this.types.string}},response:{StateVariableValuePairs:{type:this.types.string}}},n)},this.setStateVariables=function(e,t,n,r,i,s){return this.action("SetStateVariables",{request:{InstanceId:{value:e,type:this.types.ui4},RenderingControlUDN:{value:t,type:this.types.string},ServiceType:{value:n,type:this.types.string},ServiceId:{value:r,type:this.types.string},StateVariableValuePairs:{value:i,type:this.types.string}},response:{StateVariableList:{type:this.types.string}}},s)}),void("urn:schemas-upnp-org:service:RenderingControl:3"===this.upnpType&&(this.getAllowedTransforms=function(e,t){return this.action("GetAllowedTransforms",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentAllowedTransformSettings:{type:this.types.string}}},t)},this.getTransforms=function(e,t){return this.action("GetTransforms",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentTransformValues:{type:this.types.string}}},t)},this.setTransforms=function(e,t,n){return this.action("SetTransforms",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredTransformValues:{value:t,type:this.types.string}}},n)},this.getAllAvailableTransforms=function(e,t){return this.action("GetAllAvailableTransforms",{response:{AllAllowedTransformSettings:{
type:this.types.string}}},t)},this.getAllowedDefaultTransforms=function(e,t){return this.action("GetAllowedDefaultTransforms",{response:{AllowedDefaultTransformSettings:{type:this.types.string}}},t)},this.getDefaultTransforms=function(e,t){return this.action("GetDefaultTransforms",{response:{CurrentDefaultTransformSettings:{type:this.types.string}}},t)},this.setDefaultTransforms=function(e,t,n){return this.action("SetDefaultTransforms",{request:{DesiredDefaultTransformSettings:{value:t,type:this.types.string}}},n)}))):void console.error("Provided service is not a UPnP Media Renderer Service")},WinJSContrib.UPnP.UPnPRenderingControl.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype)}(window);
var WinJSContrib;!function(i){"use strict";!function(n){function t(i,n){"img"==i.nodeName.toLowerCase()?i.src=n:i.style.backgroundImage='url("'+n+'")',i.classList.add("imageLoaded")}i.Bindings.pictureUnavailable="/images/unavailable.png",i.Bindings.bindingArguments=function(i,n){var t;if(WinJS.UI._optionsParser){var e=i.getAttribute("data-win-bind-args");e&&(t=WinJS.UI.optionsParser(e,window))}else t=i.dataset.winBindArgs;return t?n?t[n]:t:void 0};var e=i.Bindings.bindingArguments;i.Bindings.removeHTML=WinJS.Binding.initializer(function(n,t,e,s){var a=i.Utils.readProperty(n,t),r=document.createElement("DIV");r.innerHTML=a,WinJS.Binding.oneTime({value:r.innerText},["value"],e,[s])}),i.Bindings.removeHTMLAndEllipsisize=WinJS.Binding.initializer(function(n,t,s,a){var r=i.Utils.readProperty(n,t),d=document.createElement("DIV");d.innerHTML=r;var o=d.innerText,l=e(s,"ellipsisize");l&&(o=toStaticHTML(i.Utils.ellipsisizeString(d.innerText,l,!0))),WinJS.Binding.oneTime({value:o},["value"],s,[a])}),i.Bindings.staticHTML=WinJS.Binding.initializer(function(n,t,e,s){var a=i.Utils.readProperty(n,t);e[s]=toStaticHTML(a)}),i.Bindings.dataAttr=WinJS.Binding.initializer(function(n,t,e,s){var a=i.Utils.readProperty(n,t);e.setAttribute("data-"+s,a)}),i.Bindings.addClass=WinJS.Binding.initializer(function(n,t,s,a){function r(a,r){var d=i.Utils.readProperty(n,t),o=e(s,"format");o?(s.classList.remove(o.format(r)),s.classList.add(o.format(d))):(s.classList.remove(r),s.classList.add(d))}var d={};return d[t]=r,WinJS.Binding.bind(n,d)}),i.Bindings.asClass=WinJS.Binding.initializer(function(n,t,e,s){function a(a,r){var d=i.Utils.readProperty(n,t);e.classList.remove(s+"-"+r),e.classList.add(s+"-"+d)}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.toBgImage=WinJS.Binding.initializer(function(n,t,e,s){function a(){var s=i.Utils.readProperty(n,t);return s&&s.length?void(e.style.backgroundImage='url("'+s+'")'):void(e.style.backgroundImage="")}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.ToRealDate=WinJS.Binding.initializer(function(i,n,t,e){var s=new Date(1e3*i.date);t.innerHTML=s.toLocaleDateString()}),i.Bindings.picture=WinJS.Binding.initializer(function(e,s,a,r){function d(){var r=i.Utils.readProperty(e,s);r&&r.length||(r=n.pictureUnavailable),a.classList.remove("imageLoaded"),setTimeout(function(){i.UI.loadImage(r).done(function(){t(a,r)},function(){t(a,n.pictureUnavailable),WinJS.Utilities.addClass(a,"imageLoaded")})},200)}var o={};return o[s]=d,WinJS.Binding.bind(e,o)}),i.Bindings.toSmartBgImage=i.Bindings.picture,i.Bindings.showIf=WinJS.Binding.initializer(function(n,t,e,s){function a(){var a=i.Utils.readProperty(n,t);a?(e.classList.remove("mcn-hide"),e.classList.add("mcn-show"),"opacity"===s[0]||"opacity"===s[1]?e.style.opacity="":"visibility"===s[0]||"visibility"===s[1]?e.style.visibility="":e.style.display=""):(e.classList.remove("mcn-show"),e.classList.add("mcn-hide"),"opacity"===s[0]||"opacity"===s[1]?e.style.opacity="0":"visibility"===s[0]||"visibility"===s[1]?e.style.visibility="hidden":e.style.display="none")}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.hideIfNot=i.Bindings.showIf,i.Bindings.hideIfNotDefined=i.Bindings.showIf,i.Bindings.hideIf=WinJS.Binding.initializer(function(n,t,e,s){function a(){var a=i.Utils.readProperty(n,t);a?(e.classList.remove("mcn-show"),e.classList.add("mcn-hide"),"opacity"===s[0]||"opacity"===s[1]?e.style.opacity="0":"visibility"===s[0]||"visibility"===s[1]?e.style.visibility="hidden":e.style.display="none"):(e.classList.remove("mcn-hide"),e.classList.add("mcn-show"),"opacity"===s[0]||"opacity"===s[1]?e.style.opacity="":"visibility"===s[0]||"visibility"===s[1]?e.style.visibility="":e.style.display="")}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.showIfNot=i.Bindings.hideIf,i.Bindings.showIfNotDefined=i.Bindings.hideIf,i.Bindings.enableIf=WinJS.Binding.initializer(function(n,t,e,s){function a(){var s=i.Utils.readProperty(n,t);e.disabled=s?!1:!0}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.disableIfNot=i.Bindings.enableIf,i.Bindings.disableIf=WinJS.Binding.initializer(function(n,t,e,s){function a(){var s=i.Utils.readProperty(n,t);e.disabled=s?!0:!1}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.enableIfNot=i.Bindings.disableIf,i.Bindings.toWidth=WinJS.Binding.initializer(function(n,t,e,s){function a(){var s=i.Utils.readProperty(n,t);e.style.width=s?s+"%":""}var r={};return r[t]=a,WinJS.Binding.bind(n,r)}),i.Bindings.ellipsisize=WinJS.Binding.initializer(function(n,t,s,a){var r=i.Utils.readProperty(n,t),d=e(s,"ellipsisize");s[a]=toStaticHTML(i.Utils.ellipsisizeString(r,d,!0))}),i.Bindings.toEllipsisized=i.Bindings.ellipsisize,i.Bindings.emptyIfNull=WinJS.Binding.initializer(function(n,t,e,s){var a=i.Utils.readProperty(n,t);e[s]="undefined"==typeof a||null===a?"":a}),i.Bindings.twoWayOnChange=WinJS.Binding.initializer(function(n,t,e,s){function a(){var a=i.Utils.readProperty(n,t);i.Utils.writeProperty(e,s,a||"")}function r(){var a=i.Utils.getProperty(e,s);i.Utils.writeProperty(n,t,a.propValue)}e.addEventListener("change",r,!1),e.winControl||(e.classList.add("win-disposable"),e.winControl={dispose:function(){e.removeEventListener("change",r)}});var d={};return d[t]=a,WinJS.Binding.bind(n,d)}),n.cleanUpBindingList=function(i){var n=[];return i.forEach(function(i){var t=WinJS.Binding.unwrap(i);n.push(t)}),n}}(i.Bindings||(i.Bindings={}));i.Bindings}(WinJSContrib||(WinJSContrib={}));
var WinJSContrib;WinJSContrib.Utils=WinJSContrib.Utils||{},WinJSContrib.Bindings=WinJSContrib.Bindings||{},function(){"use strict";function n(n,i,t){if(""!=i&&""!=n&&""!=t&&!(isNaN(n)||isNaN(t)||isNaN(i))){var r=new Date,e=new Date(t,n-1,i),o=864e5,a=Math.floor((r.getTime()-e.getTime())/o);return a}}WinJSContrib.Bindings.formatDate=WinJS.Utilities.markSupportedForProcessing(function(n,i,t,r){function e(){var r=WinJSContrib.Utils.readProperty(n,i);if(r){var e=WinJSContrib.Bindings.bindingArguments(t,"formatDate")||"L";t.innerText=moment(r).format(e)}else t.innerText=""}var o={};return o[i]=e,WinJS.Binding.bind(n,o)}),WinJSContrib.Bindings.calendar=WinJS.Utilities.markSupportedForProcessing(function(n,i,t,r){function e(){var r=WinJSContrib.Utils.readProperty(n,i);t.innerText=r?moment(r).calendar():""}var o={};return o[i]=e,WinJS.Binding.bind(n,o)}),WinJSContrib.Bindings.daysSinceDate=WinJS.Utilities.markSupportedForProcessing(function(i,t,r,e){function o(){var e=WinJSContrib.Utils.readProperty(i,t);if(e){e=new Date(e);var o=e.getMonth()+1,a=e.getDate(),s=e.getFullYear(),d=n(o,a,s);r.innerText=d}else r.innerText=""}var a={};return a[t]=o,WinJS.Binding.bind(i,a)}),WinJSContrib.Bindings.humanizeDate=WinJS.Utilities.markSupportedForProcessing(function(n,i,t,r){function e(){var r=WinJSContrib.Utils.readProperty(n,i);if(r){var e=WinJSContrib.Bindings.bindingArguments(t,"humanizeFormat"),o=WinJSContrib.Bindings.bindingArguments(t,"addSuffix");t.innerText=moment.duration(r,e).humanize(o)}else t.innerText=""}var o={};return o[i]=e,WinJS.Binding.bind(n,o)})}();
!function(){"use strict";var t=null;window.Windows&&window.Windows.UI&&window.Windows.UI.ViewManagement&&window.Windows.UI.ViewManagement.ApplicationView&&(t=window.Windows.UI.ViewManagement.ApplicationView);var i=WinJS.Navigation,e=function(t){return WinJS.UI.Animation.exitPage(t)},n=function(t){return WinJS.UI.Animation.enterPage(t)};WinJS.Namespace.define("WinJSContrib.UI",{parentNavigator:function(t){for(var i=t.parentNode;i;){if(i.mcnNavigator)return i.winControl;i=i.parentNode}},PageControlNavigator:WinJS.Class.mix(WinJS.Class.define(function(a,o){var o=o||{},r=this;if(this.element=a||document.createElement("div"),this.element.winControl=this,this.element.mcnNavigator=!0,this.element.classList.add("mcn-navigator"),this.element.classList.add("mcn-navigation-ctrl"),this.eventTracker=new WinJSContrib.UI.EventTracker,this.delay=o.delay||0,this.disableHistory=o.disableHistory||!1,this.animationWaitForPreviousPageClose=o.animationWaitForPreviousPageClose||!0,this.animations={},this.locks=0,o.enterPageAnimation&&(this.animations.enterPage=WinJSContrib.Utils.resolveMethod(a,o.enterPageAnimation)),this.animations.enterPage||(this.animations.enterPage=n),o.exitPageAnimation&&(this.animations.exitPage=WinJSContrib.Utils.resolveMethod(a,o.exitPageAnimation)),this.animations.exitPage||(this.animations.exitPage=e),this.home=o.home,t&&(this._lastViewstate=t.value),this.global=void 0!==o.global?o.global:!0,this.global){document.body.onkeyup=this._keyupHandler.bind(this),document.body.onkeypress=this._keypressHandler.bind(this),document.body.onmspointerup=this._mspointerupHandler.bind(this),WinJSContrib.UI.Application=WinJSContrib.UI.Application||{},WinJSContrib.UI.Application.navigator=this,this.eventTracker.addEvent(i,"beforenavigate",this._beforeNavigate.bind(this)),this.eventTracker.addEvent(i,"navigated",this._navigated.bind(this));var s=null;WinJSContrib.UI.enableSystemBackButton&&window.Windows&&window.Windows.UI&&window.Windows.UI.Core&&window.Windows.UI.Core.SystemNavigationManager&&(s=window.Windows.UI.Core.SystemNavigationManager.getForCurrentView()),s&&WinJSContrib.UI.enableSystemBackButton&&this.eventTracker.addEvent(s,"backrequested",function(t){WinJS.Navigation.canGoBack&&(WinJS.Navigation.back(),t.handled=!0)})}else o.navigationEvents&&this.addNavigationEvents(),this._history={backstack:[]};this.eventTracker.addEvent(window,"resize",function(t){r.resizeHandler&&cancelAnimationFrame(r.resizeHandler),r.resizeHandler=requestAnimationFrame(function(){r.resizeHandler=null,r._resized(t)})})},{home:"",element:null,_lastNavigationPromise:WinJS.Promise.as(),_lastViewstate:0,pageControl:{get:function(){return this.pageElement?this.pageElement.winControl:null}},pageElement:{get:function(){return this._pageElement||this.element.lastElementChild}},history:{get:function(){return this.global?WinJS.Navigation.history:this._history}},addLock:function(){this.locks++},removeLock:function(){this.locks--},_createPageElement:function(){var t=document.createElement("div");return t.setAttribute("dir",window.getComputedStyle(this.element,null).direction),t},dispose:function(){this._disposed||(this._disposed=!0,this.removeNavigationEvents(),WinJS.Utilities.disposeSubTree&&WinJS.Utilities.disposeSubTree(this.element),this.eventTracker.dispose())},_checkBackNavigation:function(t){var i=this,e=i.pageControl,n=function(){t.handled=!0,t.preventDefault&&t.preventDefault()},a=function(){return i.canGoBack?(i.back(),n(),!0):void 0};if(!e.canClose)return a();var o=e.canClose();return WinJS.Promise.is(o)?void o.then(function(t){return t?a():(n(),!0)}):o?a():(n(),!0)},addNavigationEvents:function(){var t=this;this.navigationEvents=WinJSContrib.UI.registerNavigationEvents(this,function(i){t._checkBackNavigation(i)})},removeNavigationEvents:function(){this.navigationEvents&&(this.navigationEvents(),this.navigationEvents=null)},_getAnimationElements:function(t){return this.pageControl&&this.pageControl.getAnimationElements?this.pageControl.getAnimationElements(t):this.pageElement},_keypressHandler:function(t){this.locks>0||"Backspace"===t.key&&this.back()},_keyupHandler:function(t){this.locks>0||("Left"===t.key&&t.altKey||"BrowserBack"===t.key)&&this.back()},_mspointerupHandler:function(t){3===t.button?i.back():4===t.button&&i.forward()},navigate:function(t,i,e,n){var a=this;if(this.global)return WinJS.Navigation.navigate(t,i);var o={skipHistory:e,detail:{location:t,state:i,setPromise:function(t){this.pagePromise=t}}};return a._beforeNavigate(o),o.detail.pagePromise=o.detail.pagePromise||WinJS.Promise.wrap(),a._history.current={state:i,location:t},o.detail.pagePromise.then(function(){return n&&a._history.backstack.splice(a._history.backstack.length-1,1),a._navigated(o),o.detail.pagePromise})},clearHistory:function(){this.global?WinJS.Navigation.history.backStack=[]:(this._history.backstack=[],this._history.current=null)},closeAllPages:function(){for(var t=this,i=t.element.querySelectorAll(".pagecontrol"),e=0,n=i.length;n>e;e++){var a=i[e];a.parentElement==t.element&&(a.winControl.dispose(),t.element.removeChild(a))}},clear:function(){this.clearHistory(),this.closeAllPages(),this._pageElement=null,this.element.innerHTML=""},open:function(t,i){return this.navigate(t,i)},pick:function(t,i){return i=i||{},i.navigateStacked=!0,this.navigate(t,i)},canGoBack:{get:function(){return this.global?i.canGoBack:this._history.backstack.length>0}},back:function(t){var i=this;if(i.global)return WinJS.Navigation.back(t);if(i._history.backstack.length){var e=i._history.backstack.length-1,n=i._history.backstack[e];return i.navigate(n.location,n.state,!0,!0)}},_beforeNavigate:function(t){var i=this,e=this.pageElement;t.detail.state=t.detail.state||{};var n=1==i.stackNavigation||t.detail.state.navigateStacked;if(this.locks>0){var a=new WinJS.Promise(function(t){});return t.detail.setPromise(a),void a.cancel()}if(e&&e.winControl&&!n&&e.winControl.canClose){var o=null,a=new WinJS.Promise(function(t){o=t});return setImmediate(function(){WinJS.Promise.wrap(e.winControl.canClose()).then(function(t){t?(i.triggerPageExit(n),o()):a.cancel()})}),void t.detail.setPromise(a)}(!n||t.detail.state.mcnNavigationDetails)&&i.triggerPageExit()},triggerPageExit:function(t){var i=this,e=this.pageElement;if(t)return void(e.winControl.exitPagePromise=WinJS.Promise.wrap());var n=function(){t||(e.style.display="none",e.style.visibility="hidden",e.style.opacity="")};if(e&&e.winControl&&!e.winControl.exitPagePromise){if(e.winControl.exitPage){var a=e.winControl.exitPage();if(a){var o=WinJS.Promise.as(a);e.winControl.exitPagePromise=o.then(function(){return e.winControl.exitPageAnimation?WinJS.Promise.as(e.winControl.exitPageAnimation()):void 0}).then(n)}else e.winControl.exitPagePromise=e.winControl.exitPageAnimation?WinJS.Promise.as(e.winControl.exitPageAnimation()).then(n):WinJS.Promise.as(i.animations.exitPage(i._getAnimationElements(!0))).then(n)}else e.winControl.exitPagePromise=e.winControl.exitPageAnimation?WinJS.Promise.as(e.winControl.exitPageAnimation()).then(n):WinJS.Promise.as(i.animations.exitPage(i._getAnimationElements(!0))).then(n);var r=e.querySelectorAll(".mcn-layout-ctrl");if(r&&r.length)for(var s=0;s<r.length;s++){var l=r[s].winControl;l.exitPage&&l.exitPage()}WinJSContrib.UI.Application.progress&&WinJSContrib.UI.Application.progress.show()}},closePage:function(t,i){var e=this;i=i||{};var n=(e.element,t||this.pageElement);n&&WinJSContrib.UI.untapAll(n);var a=n&&n.winControl&&n.winControl.exitPagePromise?n.winControl.exitPagePromise:WinJS.Promise.wrap();return e.dispatchEvent("closingPage",{page:n}),n&&n.winControl&&(n.winControl.pageLifeCycle.stop(),n.winControl.dispatchEvent("closing",{youpla:"boom"}),n.winControl.cancelPromises&&n.winControl.cancelPromises()),!e.global&&!e.disableHistory&&n&&n.winControl&&n.winControl.navigationState&&!i.skipHistory&&e._history.backstack.push(n.winControl.navigationState),e._pageElement=null,a.then(function(){if(n){n.style.opacity="0",n.style.display="none",n.winControl&&(n.winControl.stackedOn=null,n.winControl.stackedBy=null,n.winControl.eventTracker&&n.winControl.eventTracker.dispose(),n.winControl.unload&&n.winControl.unload()),WinJS.Utilities.disposeSubTree&&WinJS.Utilities.disposeSubTree(n);try{n.parentElement.removeChild(n)}catch(t){console.log("cannot remove page, WTF ????????")}}})},_navigated:function(t){var i=this,e=null;WinJSContrib.UI.enableSystemBackButton&&window.Windows&&window.Windows.UI&&window.Windows.UI.Core&&window.Windows.UI.Core.SystemNavigationManager&&(e=window.Windows.UI.Core.SystemNavigationManager.getForCurrentView()),i.global&&e&&WinJSContrib.UI.enableSystemBackButton&&(e.appViewBackButtonVisibility=WinJS.Navigation.canGoBack?window.Windows.UI.Core.AppViewBackButtonVisibility.visible:window.Windows.UI.Core.AppViewBackButtonVisibility.collapsed),t.detail.state=t.detail.state||{};var n=i.element,a=this.pageControl,o=this.pageElement,r=1==i.stackNavigation||t.detail.state&&t.detail.state.navigateStacked;if(this._lastNavigationPromise&&(this._lastNavigationPromise.cancel(),WinJSContrib.UI.Application.progress&&WinJSContrib.UI.Application.progress.hide()),a&&a.stackedOn&&t.detail.state.mcnNavigationDetails){var s=i.closePage(o,t);return this._lastNavigationPromise=s,t.detail.setPromise(s),void(WinJSContrib.UI.Application.progress&&WinJSContrib.UI.Application.progress.hide())}if(r){!i.global&&!i.disableHistory&&o&&o.winControl&&o.winControl.navigationState&&!t.skipHistory&&i._history.backstack.push(o.winControl.navigationState);var s=WinJS.Promise.wrap()}else var s=i.closePage(o,t);t.detail.state.mcnNavigationDetails={id:WinJSContrib.Utils.guid(),date:new Date};{var l;new WinJS.Promise(function(t){l=t})}i.currentPageDetails=t.detail;var c=WinJSContrib.UI.Pages.renderFragment(n,t.detail.location,t.detail.state,{enterPage:i.animations.enterPage,closeOldPagePromise:s.then(function(){},function(){}),oninit:function(t,e){if(t){var n=t.winControl;n.navigator=i,n.element.mcnPage=!0,r&&(n.stackedOn=a,a&&(a.stackedBy=n)),n.renderComplete=n.renderComplete.then(function(){l()})}},onrender:function(e,n){t.detail.state&&t.detail.state.clearNavigationHistory&&(i.global?WinJS.Navigation.history.backStack=[]:i._history.backstack=[]),i._updateBackButton(e)},onready:function(t,e){i.dispatchEvent("pageContentReady",{page:t.winControl}),WinJSContrib.UI.Application.progress&&WinJSContrib.UI.Application.progress.hide()}}).then(function(){i._lastNavigationPromise=void 0});this._lastNavigationPromise=c,t.detail.setPromise(WinJS.Promise.join([s,c]))},_resized:function(i){var e=this;if(this.pageControl&&this.pageControl.element){var e=this,n=this.pageControl,a=n.element;cancelAnimationFrame(e.layoutProcess),e.layoutProcess=requestAnimationFrame(function(){var i=t?t.value:null;if(n.__checkLayout)n.__checkLayout(a,i,e._lastViewstate);else{n.updateLayout&&n.updateLayout.call(n,a,i,e._lastViewstate);var o=a.element.querySelectorAll(".mcn-layout-ctrl");if(o&&o.length)for(var r=0;r<o.length;r++){var s=o[r].winControl;s.updateLayout&&s.updateLayout(s.element,i,e._lastViewstate)}}})}this._lastViewstate=t?t.value:null},_handleBack:function(){i.back()},_updateBackButton:function(t){var e=this,n=t.querySelectorAll(".win-backbutton, .back-button, .win-navigation-backbutton");if(n&&n.length>0)for(var a=!1,o=0,r=n.length;r>o;o++){var s=n[o];e.canGoBack&&!a?(s.classList.remove("disabled"),s.disabled=!1):(s.classList.add("disabled"),s.disabled=!0),s.onclick=function(t){if(e.global)i.back();else{var n=WinJSContrib.UI.parentNavigator(t.currentTarget);n.back()}}}}}),WinJS.Utilities.eventMixin)}),WinJSContrib.UI.WebComponents&&WinJSContrib.UI.WebComponents.register("mcn-navigator",WinJSContrib.UI.PageControlNavigator,{properties:["global"],map:{ENTERPAGEANIMATION:{attribute:"enterPageAnimation",property:"animations.enterPage",resolve:!0},EXITPAGEANIMATION:{attribute:"exitPageAnimation",property:"animations.exitPage",resolve:!0}}})}();
var WinJSContrib;!function(e){var i;!function(i){var a;!function(i){function a(e){return e&&"number"==typeof e?{duration:e}:e||{}}function n(e,i){i=a(i);var n={property:"opacity",delay:r(void 0!==i.delay?i.delay:5,void 0!==i.itemdelay?i.itemdelay:83,1,void 0!==i.maxdelay?i.maxdelay:333),duration:i.duration||167,timing:i.easing||"ease-in-out",to:0};return WinJS.UI.executeTransition(e,n)}function t(e,i){return i=a(i),WinJS.UI.executeTransition(e,{property:"opacity",delay:r(void 0!==i.delay?i.delay:5,void 0!==i.itemdelay?i.itemdelay:83,1,void 0!==i.maxdelay?i.maxdelay:333),duration:i.duration||167,timing:i.easing||"ease-in-out",to:1})}function r(e,i,a,n){return function(t){for(var r=e,o=0;t>o;o++)i*=a,r+=i;return n&&(r=Math.min(r,n)),r}}function o(e,i){i=a(i);var n={property:"opacity",delay:r(void 0!==i.delay?i.delay:5,void 0!==i.itemdelay?i.itemdelay:83,1,void 0!==i.maxdelay?i.maxdelay:333),duration:i.duration||160,timing:i.easing||"ease-in",to:0};return WinJS.UI.executeTransition(e,n)}function d(e,i){i=a(i);var n=r(void 0!==i.delay?i.delay:5,void 0!==i.itemdelay?i.itemdelay:120,1,void 0!==i.maxdelay?i.maxdelay:333),t={keyframe:"WinJSContrib-EnterPage",property:U.transform.cssName,delay:n,duration:i.duration||600,timing:i.easing||"cubic-bezier(0.1, 0.9, 0.2, 1)"},o=WinJS.UI.executeAnimation(e,t),d={property:"opacity",delay:n,duration:i.duration||600,timing:i.easing||"ease-out",to:1},u=WinJS.UI.executeTransition(e,d);return WinJS.Promise.join([o,u])}function u(i,n,t,o){o=a(o);var d=o.duration||t?250:150,u=(o.delay||5,r(void 0!==o.delay?o.delay:5,void 0!==o.itemdelay?o.itemdelay:83,1,void 0!==o.maxdelay?o.maxdelay:333)),m=e.UI.Animation.Easings.easeInQuad;t&&(m=e.UI.Animation.Easings.easeOutQuad);var s={keyframe:n,property:U.transform.cssName,delay:u,duration:d,timing:o.easing||m},y=WinJS.UI.executeAnimation(i,s),c={property:"opacity",delay:u,duration:d/2,timing:m,from:0,to:1};t||(c.from=1,c.to=0,c.delay<d/2&&(c.delay=d/2));var l=WinJS.UI.executeTransition(i,c);return WinJS.Promise.join([y,l])}function m(e,i){return u(e,"WinJSContrib-slideFromBottom",!0,i)}function s(e,i){return u(e,"WinJSContrib-slideFromTop",!0,i)}function y(e,i){return u(e,"WinJSContrib-slideFromLeft",!0,i)}function c(e,i){return u(e,"WinJSContrib-slideFromRight",!0,i)}function l(e,i){return u(e,"WinJSContrib-slideToBottom",!1,i)}function b(e,i){return u(e,"WinJSContrib-slideToTop",!1,i)}function g(e,i){return u(e,"WinJSContrib-slideToLeft",!1,i)}function f(e,i){return u(e,"WinJSContrib-slideToRight",!1,i)}function p(e,i){i=a(i);var n=r(void 0!==i.delay?i.delay:5,void 0!==i.itemdelay?i.itemdelay:83,1,void 0!==i.maxdelay?i.maxdelay:333),t={keyframe:"WinJSContrib-tabExitPage",property:U.transform.cssName,delay:n,duration:i.duration||160,timing:"ease-in"},o=WinJS.UI.executeAnimation(e,t),d={property:"opacity",delay:n,duration:i.duration||160,timing:"linear",from:1,to:0},u=WinJS.UI.executeTransition(e,d);return WinJS.Promise.join([o,u])}function x(i,n){n=a(n);var t=r(void 0!==n.delay?n.delay:5,void 0!==n.itemdelay?n.itemdelay:83,1,void 0!==n.maxdelay?n.maxdelay:333),o=WinJS.UI.executeAnimation(i,{keyframe:"WinJSContrib-tabEnterPage",property:U.transform.cssName,delay:t,duration:n.duration||250,timing:e.UI.Animation.Easings.easeOutQuad}),d=WinJS.UI.executeTransition(i,{property:"opacity",delay:t,duration:n.duration||250,timing:"ease-out",from:0,to:1});return WinJS.Promise.join([o,d])}function v(i,n){n=a(n);var t="WinJSContrib-exitGrow";n.exagerated&&(t+="-exagerated");var o=r(void 0!==n.delay?n.delay:5,void 0!==n.itemdelay?n.itemdelay:83,1,void 0!==n.maxdelay?n.maxdelay:333),d=n.duration||250,u=WinJS.UI.executeAnimation(i,{keyframe:t,property:U.transform.cssName,delay:o,duration:d,timing:n.easing||e.UI.Animation.Easings.easeInQuad}),m=WinJS.UI.executeTransition(i,{property:"opacity",delay:o,duration:d,timing:n.easing||e.UI.Animation.Easings.easeInQuint,from:1,to:0});return WinJS.Promise.join([u,m])}function S(i,n){n=a(n);var t="WinJSContrib-exitShrink";n.exagerated&&(t+="-exagerated");var o=n.duration||250,d=r(void 0!==n.delay?n.delay:10,void 0!==n.itemdelay?n.itemdelay:83,1,void 0!==n.maxdelay?n.maxdelay:333),u=WinJS.UI.executeAnimation(i,{keyframe:t,property:U.transform.cssName,delay:d,duration:o,timing:n.easing||e.UI.Animation.Easings.easeInQuad}),m=WinJS.UI.executeTransition(i,{property:"opacity",delay:d,duration:o,timing:e.UI.Animation.Easings.easeInQuint,from:1,to:0});return WinJS.Promise.join([u,m])}function I(e,i){i=a(i);var n=r(void 0!==i.delay?i.delay:5,void 0!==i.itemdelay?i.itemdelay:83,1,void 0!==i.maxdelay?i.maxdelay:333),t=i.duration||250,o=WinJS.UI.executeAnimation(e,{keyframe:"WinJSContrib-shrinkAndFall",property:U.transform.cssName,delay:n,duration:t,timing:i.easing||"ease-in"}),d=WinJS.UI.executeTransition(e,{property:"opacity",delay:n,duration:t,timing:"ease-in",from:1,to:0});return WinJS.Promise.join([o,d])}function J(i,n){n=a(n);var t="WinJSContrib-enterShrink";n.exagerated&&(t+="-exagerated");var o=n.duration||350,d=r(void 0!==n.delay?n.delay:5,void 0!==n.itemdelay?n.itemdelay:83,1,void 0!==n.maxdelay?n.maxdelay:333),u=WinJS.UI.executeAnimation(i,{keyframe:t,property:U.transform.cssName,delay:d,duration:o,timing:n.easing||e.UI.Animation.Easings.easeOutQuad}),m=WinJS.UI.executeTransition(i,{property:"opacity",delay:d,duration:o,timing:n.easing||e.UI.Animation.Easings.easeOutQuint,from:0,to:1});return WinJS.Promise.join([u,m])}function W(i,n){n=a(n);var t="WinJSContrib-enterGrow";n.exagerated&&(t+="-exagerated");var o=n.duration||350,d=r(void 0!==n.delay?n.delay:5,void 0!==n.itemdelay?n.itemdelay:83,1,void 0!==n.maxdelay?n.maxdelay:333),u=WinJS.UI.executeAnimation(i,{keyframe:t,property:U.transform.cssName,delay:d,duration:o,timing:n.easing||e.UI.Animation.Easings.easeOutQuad}),m=WinJS.UI.executeTransition(i,{property:"opacity",delay:d,duration:o,timing:e.UI.Animation.Easings.easeOutQuint,from:0,to:1});return WinJS.Promise.join([u,m])}i.Easings={easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"};var U=WinJS.Utilities._browserStyleEquivalents||{transform:{cssName:"transform"}};i.fadeOut=n,i.fadeIn=t,i.pageExit=o,i.enterPage=d,i.slideFromBottom=m,i.slideFromTop=s,i.slideFromLeft=y,i.slideFromRight=c,i.slideToBottom=l,i.slideToTop=b,i.slideToLeft=g,i.slideToRight=f,i.tabExitPage=p,i.tabEnterPage=x,i.exitGrow=v,i.exitShrink=S,i.shrinkAndFall=I,i.enterShrink=J,i.enterGrow=W}(a=i.Animation||(i.Animation={}))}(i=e.UI||(e.UI={}))}(WinJSContrib||(WinJSContrib={}));
!function(){"use strict";var e={rectangle:{morphpath:"M286,113c0,0-68.8,6-136,6c-78.2,0-137-6-137-6S6,97.198,6,62.5C6,33.999,13,12,13,12s59-7,137-7c85,0,136,7,136,7s8,17.598,8,52C294,96.398,286,113,286,113z",svg:'<svg width="100%" height="100%" viewBox="0 0 300 125" preserveAspectRatio="none"><path d="M286.5,113c0,0-104,0-136.5,0c-35.75,0-136.5,0-136.5,0s0-39.417,0-52.5c0-12.167,0-48.5,0-48.5s101.833,0,136.5,0c33.583,0,136.5,0,136.5,0s0,35.917,0,48.5C286.5,73.167,286.5,113,286.5,113z"/></svg>'},roundedrectangle:{morphpath:"M287,95.25c0,11.046-5.954,19.75-17,19.75c0,0-90-4-120-4s-120,4-120,4c-11.046,0-17.25-9.5-17.25-20.5c0-8.715,0.25-10.75,0.25-34s-0.681-26.257-1-33.75C11.5,15,18.954,10,30,10c0,0,90,3,120,3s120-3,120-3c11.046,0,17.75,6.5,17,20c-0.402,7.239,0,6.75,0,30.5C287,83.5,287,84.75,287,95.25z",svg:'<svg width="100%" height="100%" viewBox="0 0 300 125" preserveAspectRatio="none"><path d="M290,95c0,11.046-8.954,20-20,20c0,0-90,0-120,0s-120,0-120,0c-11.046,0-20-9-20-20c0-8.715,0-25.875,0-34.5c0-7.625,0-22.774,0-30.5c0-11.625,8.954-20,20-20c0,0,90,0,120,0s120,0,120,0c11.046,0,20,8.954,20,20c0,7.25,0,22.875,0,30.5C290,69.125,290,84.5,290,95z"/></svg>'},round:{morphpath:"M251,150c0,93.5-29.203,143-101,143S49,243.5,49,150C49,52.5,78.203,7,150,7S251,51.5,251,150z",svg:'<svg width="100%" height="100%" viewBox="0 0 300 300" preserveAspectRatio="none"><path d="M281,150c0,71.797-59.203,131-131,131S19,221.797,19,150S78.203,19,150,19S281,78.203,281,150z"/></svg>'}};WinJS.Namespace.define("WinJSContrib.UI",{ElasticButton:WinJS.Class.mix(WinJS.Class.define(function(e,t){this.element=e||document.createElement("DIV"),t=t||{},this.element.winControl=this,this.behavior={speed:{reset:800,active:150},easing:{reset:mina.elastic,active:mina.easein}},this.element.classList.add("mcn-elasticbutton"),this.element.classList.add("win-disposable"),WinJS.UI.setOptions(this,t)},{kind:{get:function(){return this._kind},set:function(e){this._kind=e,this.render()}},render:function(){var t=this;this.element.classList.add("mcn-elasticbutton-"+t.kind);var n=!1;if(t.contentElement||(t.contentElement=document.createElement("DIV"),t.contentElement.className="mcn-elasticbutton-content",WinJSContrib.Utils.moveChilds(t.element,t.contentElement),n=!0),t.bgElement||(t.bgElement=document.createElement("DIV"),t.bgElement.className="mcn-elasticbutton-bg",t.element.appendChild(t.bgElement)),n&&t.element.appendChild(t.contentElement),!t.contentElement){for(t.contentElement=document.createElement("DIV"),t.contentElement.className="mcn-elasticbutton-content";t.element.children.length>0;)t.contentElement.appendChild(t.element.children[0]);t.element.appendChild(t.contentElement)}t.currentKind=e[this.kind],t.currentKind&&(t.bgElement.innerHTML=t.currentKind.svg,t.snap=Snap(t.bgElement.querySelector("svg")),t.pathEl=t.snap.select("path"),t.paths={reset:t.pathEl.attr("d"),active:t.currentKind.morphpath},t.eventTracker&&t.eventTracker.dispose(),t.eventTracker=new WinJSContrib.UI.EventTracker,t.eventTracker.addEvent(t.element,"pointerdown",function(e){t._ptdown(e)}),t.eventTracker.addEvent(t.element,"pointerup",function(e){t._ptup(e)}))},_ptdown:function(e){this.pathEl.stop().animate({path:this.paths.active},this.behavior.speed.active,this.behavior.easing.active)},_ptup:function(e){this.pathEl.stop().animate({path:this.paths.reset},this.behavior.speed.reset,this.behavior.easing.reset)},dispose:function(){this.eventTracker&&this.eventTracker.dispose(),WinJS.Utilities.disposeSubTree(this.element),this.element=null}}),WinJS.Utilities.eventMixin,WinJS.Utilities.createEventProperties("myevent"))})}();
!function(){"use strict";WinJS.Namespace.define("WinJSContrib.UI",{FOWrapper:WinJS.Class.mix(WinJS.Class.define(function(e,t){this.element=e||document.createElement("DIV"),t=t||{},this.element.winControl=this,this.element.classList.add("win-disposable"),WinJS.UI.setOptions(this,t),this.render()},{someProperty:{get:function(){return this._someProperty},set:function(e){this._someProperty=e}},render:function(){var e=this,t=document.createElement("BODY");WinJSContrib.Utils.moveChilds(e.element,t),e.element.innerHTML='<svg class="mcn-fowrapper" xmlns="http://www.w3.org/2000/svg" style="width:100%; height: 100%"><defs><filter id="blur" x="0" y="0"><feGaussianBlur class="gblur" in="SourceGraphic" stdDeviation="0" /></filter></defs><foreignObject id="fowrapper" width="100%" height="100%" requiredExtensions="http://www.w3.org/1999/xhtml" filter="url(#blur)"></foreignObject></svg>';var i=e.element.querySelector("#fowrapper");e.blurFilter=e.element.querySelector(".gblur"),e.sblurFilter=Snap(e.blurFilter),i.appendChild(t)},blurTo:function(e,t,i){var r=this;return r.sblurFilter.stop(),t?void r.sblurFilter.animate({stdDeviation:e},t,i||mina.easeout):void r.blurFilter.setAttribute("stdDeviation",e)},dispose:function(){WinJS.Utilities.disposeSubTree(this.element),this.element=null}}),WinJS.Utilities.eventMixin,WinJS.Utilities.createEventProperties("myevent"))})}();
//# sourceMappingURL=winjscontrib-custom.js.map