{"version":3,"sources":["default.ts"],"names":["KodiPassion","KodiPassion.Templates","KodiPassion.appInit","KodiPassion.mapKodiApi"],"mappings":"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","file":"KodiPassion/js/default.js","sourcesContent":["declare module WinJSContrib.UI {\r\n    var FOWrapper: any;\r\n    var enableSystemBackButton: boolean;\r\n}\r\n\r\ninterface JQuery {\r\n    pressEnterDefaultTo: any;\r\n}\r\n\r\ndeclare var dynamics: any;\r\nmodule KodiPassion {\r\n    export var debug = true;\r\n}\r\n\r\nWinJSContrib.DataContainer.WinRTFilesContainer.makeCurrent();\r\n\r\nif (KodiPassion.debug) {\r\n    WinJSContrib.UI.Pages.verboseTraces = true;\r\n    WinJSContrib.Logs.configure(\"WinJSContrib.UI.Pages\", { level: WinJSContrib.Logs.Levels.debug, appenders: [\"DefaultConsole\"] });\r\n    WinJSContrib.Logs.configure(\"KDP.API\", { level: WinJSContrib.Logs.Levels.info, appenders: [\"DefaultConsole\"] });\r\n}\r\n\r\nmodule KodiPassion.Templates {\r\n    export var search = new WinJS.Binding.Template(null, { href: \"/templates/searchitem.html\", extractChild: true });\r\n    export var album = new WinJS.Binding.Template(null, { href: \"/templates/album.html\", extractChild: true });\r\n    export var song = new WinJS.Binding.Template(null, { href: \"/templates/song.html\", extractChild: true });\r\n    export var movieposter = new WinJS.Binding.Template(null, { href: \"/templates/movieposter.html\", extractChild: true });\r\n}\r\n\r\nmodule KodiPassion {\r\n    var app = WinJS.Application;\r\n    var activation = Windows.ApplicationModel.Activation;\r\n\r\n    \r\n    WinJSContrib.UI.enableSystemBackButton = true;\r\n    WinJSContrib.UI.defaultTapBehavior.awaitAnim = true;\r\n    WinJSContrib.UI.defaultTapBehavior.animDown = function (elt) {\r\n        var w = elt.clientWidth;\r\n        var h = elt.clientHeight;\r\n\r\n        var target = { scaleX: (w - 10) / w, scaleY: (h + 10)/h };\r\n\r\n        //if (elt.clientWidth < 70 && elt.clientHeight < 70)\r\n        //    target = { scaleX: 0.8, scaleY: 1.2 };\r\n        //else if (elt.clientWidth < 100 && elt.clientHeight < 100)\r\n        //    target = { scaleX: 0.9, scaleY: 1.1 };\r\n\r\n        //    return $.Velocity(elt, target, { duration: 90 });\r\n\r\n        return new WinJS.Promise(function (complete, error) {\r\n            dynamics.animate(elt, target, {\r\n                type: dynamics.spring,\r\n                duration: 160,\r\n                frequency: 1,\r\n                friction: 166,\r\n                complete: complete\r\n            });\r\n        });\r\n\r\n        //return WinJS.UI.executeTransition(elt, {\r\n        //    property: \"transform\",\n        //    delay: 0,\r\n        //    duration: 167,\r\n        //    timing: \"cubic-bezier(0.1, 0.9, 0.2, 1)\",\r\n        //    to: \"scale(0.7, 1.2)\"\r\n        //});\r\n    }\r\n\r\n    WinJSContrib.UI.defaultTapBehavior.animUp = function (elt) {\r\n        var p = new WinJS.Promise(function (complete, error) {\r\n            dynamics.animate(elt, {\r\n                scaleX: 1,\r\n                scaleY: 1\r\n            }, {\r\n                type: dynamics.spring,\r\n                frequency: 300,\r\n                duration: 700,\r\n                friction : 105,\r\n                anticipationSize: 216,\r\n                anticipationStrength: 572,\r\n                complete: complete\r\n            })\r\n        });\r\n        return WinJS.Promise.timeout(50);\r\n\r\n        //return WinJS.UI.executeTransition(elt, {\r\n        //    property: \"transform\",\n        //    delay: 0,\r\n        //    duration: 300,\r\n        //    timing: WinJSContrib.UI.Animation.Easings.easeOutBack, //\"cubic-bezier(.39,.66,.5,1)\", \r\n        //    to: \"scale(1, 1)\"\r\n        //});\r\n\r\n        //$.Velocity(elt, { scaleX: 1, scaleY: 1 }, { duration: 800, easing: [600, 25] });\r\n        //return WinJS.Promise.timeout(50);\r\n    }\r\n\r\n    WinJSContrib.UI.Pages.defaultFragmentMixins.push({\r\n        navdeactivate: function () {\r\n            if (this.foWrapper) {\r\n                this.foWrapper.element.style.opacity = '0.2';\r\n                this.foWrapper.blurTo(20, 160);\r\n                return WinJS.Promise.timeout(50);\r\n            } else {\r\n                console.error(\"fowrapper not present\");\r\n            }\r\n            if (this.pageNavDeactivate) {\r\n                this.pageNavDeactivate();\r\n            }\r\n        },\r\n\r\n        navactivate: function () {\r\n            if (this.foWrapper) {\r\n                this.foWrapper.element.style.opacity = '';\r\n                this.foWrapper.blurTo(0, 160);\r\n                //return WinJS.Promise.timeout(3000);\r\n            } else {\r\n                console.error(\"fowrapper not present\");\r\n            }\r\n            if (this.pageNavActivate) {\r\n                this.pageNavActivate();\r\n            }\r\n        }\r\n    });\r\n\r\n    function appInit(args) {\r\n        var pageshost = document.getElementById(\"pageshost\");\r\n\r\n        pageshost.winControl.fragmentInjector = function (pagecontrol) {\r\n            var parent = pagecontrol.element.parentElement;\r\n            var wrapper = new WinJSContrib.UI.FOWrapper();\r\n            var _unload = pagecontrol.unload;\r\n            var _updateLayout = pagecontrol.updateLayout;\r\n            var proxy = document.createElement(\"DIV\");\r\n            proxy.className = \"pagecontrolproxy pagecontrol\";\r\n            proxy.winControl = pagecontrol;\r\n            proxy.winControl.unload = function () {\r\n                $(proxy).remove();\r\n                if (_unload) {\r\n                    _unload.apply(this);\r\n                }\r\n            }\r\n            proxy.winControl.updateLayout = function () {\r\n                wrapper.updateLayout();\r\n                if (_updateLayout) {\r\n                    _updateLayout.apply(this);\r\n                }\r\n            }\r\n            proxy.appendChild(wrapper.element);\r\n            parent.appendChild(proxy);\r\n            wrapper.content.appendChild(pagecontrol.element);\r\n            pagecontrol.foWrapper = wrapper;\r\n        }\r\n\r\n        var settingName = Kodi.Settings.defaultConnection();\r\n        if (settingName) {\r\n            var currentSetting = Kodi.Settings.getSetting(settingName);\r\n            if (currentSetting && currentSetting.host) {\r\n                return Kodi.API.testServerSetting(currentSetting).then(function (p) {\r\n                    Kodi.API.currentSettings = currentSetting;\r\n                    return KodiPassion.UI.DataLoader.showLoader(false, args);\r\n                }, function (err) {\r\n                    return WinJS.Navigation.navigate(\"/pages/startup/startup.html\");\r\n                });\r\n            }\r\n        }\r\n\r\n        return WinJS.Navigation.navigate(\"/pages/bootstrap/bootstrap.html\");\r\n    }\r\n\r\n    app.onactivated = function (args : any) {\r\n        if (args.detail.kind === activation.ActivationKind.launch) {\r\n            if (args.detail.previousExecutionState !== activation.ApplicationExecutionState.terminated) {\r\n                // TODO: This application has been newly launched. Initialize your application here.\r\n            } else {\r\n                // TODO: This application was suspended and then terminated.\r\n                // To create a smooth user experience, restore application state here so that it looks like the app never stopped running.\r\n            }\r\n            args.setPromise(WinJS.UI.processAll().then(function () {\r\n                return appInit(args);\r\n            }));\r\n        }\r\n    };\r\n\r\n    app.oncheckpoint = function (args) {\r\n        // TODO: This application is about to be suspended. Save any state that needs to persist across suspensions here.\r\n        // You might use the WinJS.Application.sessionState object, which is automatically saved and restored across suspension.\r\n        // If you need to complete an asynchronous operation before your application is suspended, call args.setPromise().\r\n    };\r\n\r\n    app.start();\r\n\r\n    export function mapKodiApi(element: HTMLElement) {\r\n        var items = element.querySelectorAll(\"*[kodiapi]\");\r\n        var processItem = function (item: HTMLElement) {\r\n            var api = item.getAttribute(\"kodiapi\");\r\n            if (api) {\r\n                var fn = WinJSContrib.Utils.resolveValue(item, \"global:\" + api);\r\n                if (fn && typeof fn === \"function\") {\r\n                    WinJSContrib.UI.tap(item, function (arg) {\r\n                        return fn();\r\n                    }, { /*tapOnDown : true*/ });\r\n                }\r\n            }\r\n        }\r\n\r\n        for (var i = 0, l = items.length; i < l; i++) {\r\n            processItem(<HTMLElement>items[i]);            \r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":" "}